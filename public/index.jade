doctype
html(ng-app)
  head
    title Blink demo
    style body { margin: 30px; }
    script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular.min.js')
  body
    h1 Blink

    table(cellpadding=10)
      tr
        td
          input(type='checkbox',name='redLed',id='rl',disabled)
          Label(for='rl') Red LED
        td
          input(type='checkbox',name='greenLed',id='gl',disabled)
          Label(for='gl') Green LED
      tr
        td
          input(type='checkbox',name='button1',id='b1')
          Label(for='b1') Button 1
        td
          input(type='checkbox',name='button2',id='b2')
          Label(for='b2') Button 2

    p Count = {{ count }}
    hr
    #messages

    script(src='//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js')
    script.
      var socket = new WebSocket('ws://localhost:3333/ws')
      socket.onopen = function () {
        $('#messages').prepend('<div><b>Open</b></div>');
      };
      socket.onmessage = function (m) {
        $('#messages').prepend('<div>' + m.data + '</div>');
      };
      socket.onerror = function (m) {
        $('#messages').prepend('<div>ERROR: ' + m.data + '</div>');
      };
      socket.onclose = function () {
        $('#messages').prepend('<div><b>Closed</b></div>');
      };
