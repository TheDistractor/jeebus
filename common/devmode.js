(function() {
  var compileCoffeeScriptWithMap, compileIfNeeded, createWatcher, execFile, fatal, fs, main, moduleDir, npmstub, packages, parseSettings, path, pid, recompileGoFiles, runMain, settings, spawn, traverseDirs, watchDir, _ref,
    __slice = [].slice;

  fs = require('fs');

  path = require('path');

  _ref = require('child_process'), execFile = _ref.execFile, spawn = _ref.spawn;

  moduleDir = function(s) {
    return path.resolve('node_modules', s);
  };

  fatal = function(s) {
    console.error('\n[node] fatal error:', s);
    return process.exit(1);
  };

  main = void 0;

  pid = void 0;

  runMain = function() {
    var args, f, _i, _len, _ref1;
    args = ['run'];
    _ref1 = fs.readdirSync('.');
    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
      f = _ref1[_i];
      if (/\.go$/i.test(f) && !/_test\./i.test(f)) {
        args.push(f);
        fs.watch(f, recompileGoFiles);
      }
    }
    args = args.concat(process.argv.slice(2));
    console.log('[node] go', args.join(' '));
    main = spawn('go', args, {
      stdio: ['ipc', process.stdout, process.stderr]
    });
    main.on('error', function(err) {
      return fatal('cannot launch "go"');
    });
    main.on('message', function(msg) {
      console.log('[node] pid message:', msg, '\n');
      return pid = msg | 0;
    });
    main.on('close', function(code) {
      if (code > 0) {
        return fatal('unexpected termination of "main", code: ' + code);
      }
    });
    main.on('exit', function() {
      return fatal('main exited');
    });
    return main.send(null);
  };

  recompileGoFiles = function() {
    if (pid > 0) {
      main.removeAllListeners();
      process.kill(pid, 'SIGHUP');
      pid = 0;
      return runMain();
    }
  };

  compileCoffeeScriptWithMap = function(sourceCode, filename) {
    var coffee, comment, compiled, convert;
    coffee = require(moduleDir('coffee-script'));
    compiled = coffee.compile(sourceCode, {
      filename: filename,
      sourceMap: true,
      inline: true,
      literate: path.extname(filename) !== '.coffee'
    });
    convert = require(moduleDir('convert-source-map'));
    comment = convert.fromJSON(compiled.v3SourceMap).setProperty('sources', [filename]).toComment();
    return "" + compiled.js + "\n" + comment + "\n";
  };

  compileIfNeeded = function(srcFile) {
    var destExt, destFile, destStat, err, jade, saveResult, src, srcExt, srcStat, stylus, t;
    if (/\.(coffee|coffee\.md|litcoffee|jade|styl)$/i.test(srcFile)) {
      srcExt = path.extname(srcFile);
      destExt = (function() {
        switch (srcExt) {
          case '.jade':
            return '.html';
          case '.styl':
            return '.css';
          default:
            return '.js';
        }
      })();
      destFile = srcFile.slice(0, -srcExt.length) + destExt;
      t = Date.now();
      saveResult = function(data) {
        var ms, n;
        n = data.length;
        ms = Date.now() - t;
        console.log("[node] compile " + srcFile + " -> " + destExt + " " + n + "b " + ms + " ms");
        return fs.writeFileSync(destFile, data);
      };
      try {
        srcStat = fs.statSync(srcFile);
        if (fs.existsSync(destFile)) {
          destStat = fs.statSync(destFile);
        }
        if (!((destStat != null ? destStat.mtime : void 0) >= srcStat.mtime)) {
          src = fs.readFileSync(srcFile, {
            encoding: 'utf8'
          });
          switch (srcExt) {
            case '.jade':
              jade = require(moduleDir('jade'));
              return saveResult(jade.compile(src, {
                filename: srcFile,
                pretty: true
              })());
            case '.styl':
              stylus = require(moduleDir('stylus'));
              return stylus.render(src, {
                filename: srcFile
              }, function(err, css) {
                if (err) {
                  return console.log('[node] stylus error', srcFile, err);
                } else {
                  return saveResult(css);
                }
              });
            default:
              return saveResult(compileCoffeeScriptWithMap(src, path.basename(srcFile)));
          }
        }
      } catch (_error) {
        err = _error;
        return console.log('[node] cannot compile', srcFile, err);
      }
    } else if (pid > 0) {
      if (/\.(html|js)$/i.test(srcFile)) {
        return main.send(true);
      } else if (/\.(css)$/i.test(srcFile)) {
        return main.send(false);
      } else if (/\.(go)$/i.test(srcFile)) {
        console.log("[node] changed", srcFile);
        return recompileGoFiles();
      }
    }
  };

  traverseDirs = function(dir, cb) {
    var f, stats, _i, _len, _ref1, _results;
    stats = fs.statSync(dir);
    if (stats.isDirectory()) {
      cb(dir);
      _ref1 = fs.readdirSync(dir);
      _results = [];
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        f = _ref1[_i];
        _results.push(traverseDirs(path.join(dir, f), cb));
      }
      return _results;
    }
  };

  watchDir = function(root, cb) {
    return traverseDirs(root, function(dir) {
      return fs.watch(dir, function(event, filename) {
        var file;
        file = path.join(dir, filename);
        return cb(event, file);
      });
    });
  };

  createWatcher = function(root) {
    if (fs.existsSync(root)) {
      console.log(" ", root);
      return traverseDirs(root, function(dir) {
        var f, _i, _len, _ref1;
        _ref1 = fs.readdirSync(dir);
        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
          f = _ref1[_i];
          compileIfNeeded(path.join(dir, f));
        }
        return fs.watch(dir, function(event, filename) {
          var file;
          file = path.join(dir, filename);
          if (fs.existsSync(file)) {
            return compileIfNeeded(file);
          } else {

          }
        });
      });
    }
  };

  parseSettings = function(fn) {
    var i, k, line, map, s, v, x, _i, _j, _len, _len1, _ref1, _ref2;
    map = {};
    if (fs.existsSync(fn)) {
      _ref1 = fs.readFileSync(fn, 'utf8').split('\n');
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        line = _ref1[_i];
        line = line.trim();
        i = line.indexOf('=');
        if (line[0] !== '#' && i > 0) {
          x = [];
          _ref2 = line.slice(0, i).trim().split('_');
          for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
            s = _ref2[_j];
            x.push(s.slice(0, 1).toUpperCase() + s.slice(1).toLowerCase());
          }
          k = x.join("");
          v = line.slice(i + 1).trim();
          map[k] = JSON.parse(v);
        }
      }
    }
    return map;
  };

  console.log('[node] watching for file changes in:');

  try {
    settings = require(path.resolve(__dirname, '../setup')).settings;
  } catch (_error) {}

  createWatcher((settings != null ? settings.appDir : void 0) || './app');

  createWatcher((settings != null ? settings.baseDir : void 0) || './base');

  createWatcher((settings != null ? settings.commonDir : void 0) || './common');

  createWatcher((settings != null ? settings.gadgetsDir : void 0) || './gadgets');

  if (fs.existsSync('node_modules')) {
    runMain();
  } else {
    packages = ['coffee-script', 'convert-source-map', 'jade', 'stylus'];
    console.log('[node] installing npm packages:', packages.join(' '));
    npmstub = process.platform === "win32" ? "npm.cmd" : "npm";
    execFile(npmstub, ['install'].concat(__slice.call(packages)), {
      env: process.env
    }, function(err, o, e) {
      if (err != null) {
        fatal(err);
      }
      return runMain();
    });
  }

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZGV2bW9kZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7QUFBQSxNQUFBLHVOQUFBO0lBQUEsa0JBQUE7O0FBQUEsRUFBQSxFQUFBLEdBQUssT0FBQSxDQUFRLElBQVIsQ0FBTCxDQUFBOztBQUFBLEVBQ0EsSUFBQSxHQUFPLE9BQUEsQ0FBUSxNQUFSLENBRFAsQ0FBQTs7QUFBQSxFQUVBLE9BQW1CLE9BQUEsQ0FBUSxlQUFSLENBQW5CLEVBQUMsZ0JBQUEsUUFBRCxFQUFVLGFBQUEsS0FGVixDQUFBOztBQUFBLEVBS0EsU0FBQSxHQUFZLFNBQUMsQ0FBRCxHQUFBO1dBQU8sSUFBSSxDQUFDLE9BQUwsQ0FBYSxjQUFiLEVBQTZCLENBQTdCLEVBQVA7RUFBQSxDQUxaLENBQUE7O0FBQUEsRUFPQSxLQUFBLEdBQVEsU0FBQyxDQUFELEdBQUE7QUFDTixJQUFBLE9BQU8sQ0FBQyxLQUFSLENBQWMsdUJBQWQsRUFBdUMsQ0FBdkMsQ0FBQSxDQUFBO1dBQ0EsT0FBTyxDQUFDLElBQVIsQ0FBYSxDQUFiLEVBRk07RUFBQSxDQVBSLENBQUE7O0FBQUEsRUFXQSxJQUFBLEdBQU8sTUFYUCxDQUFBOztBQUFBLEVBWUEsR0FBQSxHQUFNLE1BWk4sQ0FBQTs7QUFBQSxFQWVBLE9BQUEsR0FBVSxTQUFBLEdBQUE7QUFDUixRQUFBLHdCQUFBO0FBQUEsSUFBQSxJQUFBLEdBQU8sQ0FBQyxLQUFELENBQVAsQ0FBQTtBQUNBO0FBQUEsU0FBQSw0Q0FBQTtvQkFBQTtBQUNFLE1BQUEsSUFBRyxRQUFRLENBQUMsSUFBVCxDQUFjLENBQWQsQ0FBQSxJQUFxQixDQUFBLFVBQWMsQ0FBQyxJQUFYLENBQWdCLENBQWhCLENBQTVCO0FBQ0UsUUFBQSxJQUFJLENBQUMsSUFBTCxDQUFVLENBQVYsQ0FBQSxDQUFBO0FBQUEsUUFDQSxFQUFFLENBQUMsS0FBSCxDQUFTLENBQVQsRUFBWSxnQkFBWixDQURBLENBREY7T0FERjtBQUFBLEtBREE7QUFBQSxJQUtBLElBQUEsR0FBTyxJQUFJLENBQUMsTUFBTCxDQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBYixDQUFtQixDQUFuQixDQUFaLENBTFAsQ0FBQTtBQUFBLElBTUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxXQUFaLEVBQXlCLElBQUksQ0FBQyxJQUFMLENBQVUsR0FBVixDQUF6QixDQU5BLENBQUE7QUFBQSxJQU9BLElBQUEsR0FBTyxLQUFBLENBQU0sSUFBTixFQUFZLElBQVosRUFBa0I7QUFBQSxNQUFBLEtBQUEsRUFBTyxDQUFDLEtBQUQsRUFBUSxPQUFPLENBQUMsTUFBaEIsRUFBd0IsT0FBTyxDQUFDLE1BQWhDLENBQVA7S0FBbEIsQ0FQUCxDQUFBO0FBQUEsSUFRQSxJQUFJLENBQUMsRUFBTCxDQUFRLE9BQVIsRUFBaUIsU0FBQyxHQUFELEdBQUE7YUFDZixLQUFBLENBQU0sb0JBQU4sRUFEZTtJQUFBLENBQWpCLENBUkEsQ0FBQTtBQUFBLElBVUEsSUFBSSxDQUFDLEVBQUwsQ0FBUSxTQUFSLEVBQW1CLFNBQUMsR0FBRCxHQUFBO0FBQ2pCLE1BQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxxQkFBWixFQUFtQyxHQUFuQyxFQUF3QyxJQUF4QyxDQUFBLENBQUE7YUFDQSxHQUFBLEdBQU0sR0FBQSxHQUFNLEVBRks7SUFBQSxDQUFuQixDQVZBLENBQUE7QUFBQSxJQWFBLElBQUksQ0FBQyxFQUFMLENBQVEsT0FBUixFQUFpQixTQUFDLElBQUQsR0FBQTtBQUNmLE1BQUEsSUFBNEQsSUFBQSxHQUFPLENBQW5FO2VBQUEsS0FBQSxDQUFNLDBDQUFBLEdBQTZDLElBQW5ELEVBQUE7T0FEZTtJQUFBLENBQWpCLENBYkEsQ0FBQTtBQUFBLElBZUEsSUFBSSxDQUFDLEVBQUwsQ0FBUSxNQUFSLEVBQWdCLFNBQUEsR0FBQTthQUNkLEtBQUEsQ0FBTSxhQUFOLEVBRGM7SUFBQSxDQUFoQixDQWZBLENBQUE7V0FpQkEsSUFBSSxDQUFDLElBQUwsQ0FBVSxJQUFWLEVBbEJRO0VBQUEsQ0FmVixDQUFBOztBQUFBLEVBb0NBLGdCQUFBLEdBQW1CLFNBQUEsR0FBQTtBQUNqQixJQUFBLElBQUcsR0FBQSxHQUFNLENBQVQ7QUFDRSxNQUFBLElBQUksQ0FBQyxrQkFBTCxDQUFBLENBQUEsQ0FBQTtBQUFBLE1BQ0EsT0FBTyxDQUFDLElBQVIsQ0FBYSxHQUFiLEVBQWtCLFFBQWxCLENBREEsQ0FBQTtBQUFBLE1BRUEsR0FBQSxHQUFNLENBRk4sQ0FBQTthQUdBLE9BQUEsQ0FBQSxFQUpGO0tBRGlCO0VBQUEsQ0FwQ25CLENBQUE7O0FBQUEsRUEyQ0EsMEJBQUEsR0FBNkIsU0FBQyxVQUFELEVBQWEsUUFBYixHQUFBO0FBQzNCLFFBQUEsa0NBQUE7QUFBQSxJQUFBLE1BQUEsR0FBUyxPQUFBLENBQVEsU0FBQSxDQUFVLGVBQVYsQ0FBUixDQUFULENBQUE7QUFBQSxJQUNBLFFBQUEsR0FBVyxNQUFNLENBQUMsT0FBUCxDQUFlLFVBQWYsRUFDVDtBQUFBLE1BQUEsUUFBQSxFQUFVLFFBQVY7QUFBQSxNQUNBLFNBQUEsRUFBVyxJQURYO0FBQUEsTUFFQSxNQUFBLEVBQVEsSUFGUjtBQUFBLE1BR0EsUUFBQSxFQUFVLElBQUksQ0FBQyxPQUFMLENBQWEsUUFBYixDQUFBLEtBQTRCLFNBSHRDO0tBRFMsQ0FEWCxDQUFBO0FBQUEsSUFNQSxPQUFBLEdBQVUsT0FBQSxDQUFRLFNBQUEsQ0FBVSxvQkFBVixDQUFSLENBTlYsQ0FBQTtBQUFBLElBT0EsT0FBQSxHQUFVLE9BQ1IsQ0FBQyxRQURPLENBQ0UsUUFBUSxDQUFDLFdBRFgsQ0FFUixDQUFDLFdBRk8sQ0FFSyxTQUZMLEVBRWdCLENBQUMsUUFBRCxDQUZoQixDQUdSLENBQUMsU0FITyxDQUFBLENBUFYsQ0FBQTtXQVdBLEVBQUEsR0FBRSxRQUFRLENBQUMsRUFBWCxHQUFlLElBQWYsR0FBa0IsT0FBbEIsR0FBMkIsS0FaQTtFQUFBLENBM0M3QixDQUFBOztBQUFBLEVBeURBLGVBQUEsR0FBa0IsU0FBQyxPQUFELEdBQUE7QUFDaEIsUUFBQSxtRkFBQTtBQUFBLElBQUEsSUFBRyw2Q0FBNkMsQ0FBQyxJQUE5QyxDQUFtRCxPQUFuRCxDQUFIO0FBQ0UsTUFBQSxNQUFBLEdBQVMsSUFBSSxDQUFDLE9BQUwsQ0FBYSxPQUFiLENBQVQsQ0FBQTtBQUFBLE1BQ0EsT0FBQTtBQUFVLGdCQUFPLE1BQVA7QUFBQSxlQUNILE9BREc7bUJBQ1UsUUFEVjtBQUFBLGVBRUgsT0FGRzttQkFFVSxPQUZWO0FBQUE7bUJBR1UsTUFIVjtBQUFBO1VBRFYsQ0FBQTtBQUFBLE1BS0EsUUFBQSxHQUFXLE9BQU8sQ0FBQyxLQUFSLENBQWMsQ0FBZCxFQUFpQixDQUFBLE1BQVEsQ0FBQyxNQUExQixDQUFBLEdBQW9DLE9BTC9DLENBQUE7QUFBQSxNQU9BLENBQUEsR0FBSSxJQUFJLENBQUMsR0FBTCxDQUFBLENBUEosQ0FBQTtBQUFBLE1BUUEsVUFBQSxHQUFhLFNBQUMsSUFBRCxHQUFBO0FBQ1gsWUFBQSxLQUFBO0FBQUEsUUFBQSxDQUFBLEdBQUksSUFBSSxDQUFDLE1BQVQsQ0FBQTtBQUFBLFFBQ0EsRUFBQSxHQUFLLElBQUksQ0FBQyxHQUFMLENBQUEsQ0FBQSxHQUFhLENBRGxCLENBQUE7QUFBQSxRQUVBLE9BQU8sQ0FBQyxHQUFSLENBQWEsaUJBQUEsR0FBZ0IsT0FBaEIsR0FBeUIsTUFBekIsR0FBOEIsT0FBOUIsR0FBdUMsR0FBdkMsR0FBeUMsQ0FBekMsR0FBNEMsSUFBNUMsR0FBK0MsRUFBL0MsR0FBbUQsS0FBaEUsQ0FGQSxDQUFBO2VBR0EsRUFBRSxDQUFDLGFBQUgsQ0FBaUIsUUFBakIsRUFBMkIsSUFBM0IsRUFKVztNQUFBLENBUmIsQ0FBQTtBQWNBO0FBQ0UsUUFBQSxPQUFBLEdBQVUsRUFBRSxDQUFDLFFBQUgsQ0FBWSxPQUFaLENBQVYsQ0FBQTtBQUNBLFFBQUEsSUFBb0MsRUFBRSxDQUFDLFVBQUgsQ0FBYyxRQUFkLENBQXBDO0FBQUEsVUFBQSxRQUFBLEdBQVcsRUFBRSxDQUFDLFFBQUgsQ0FBWSxRQUFaLENBQVgsQ0FBQTtTQURBO0FBRUEsUUFBQSxJQUFBLENBQUEscUJBQU8sUUFBUSxDQUFFLGVBQVYsSUFBbUIsT0FBTyxDQUFDLEtBQWxDLENBQUE7QUFDRSxVQUFBLEdBQUEsR0FBTSxFQUFFLENBQUMsWUFBSCxDQUFnQixPQUFoQixFQUF5QjtBQUFBLFlBQUEsUUFBQSxFQUFVLE1BQVY7V0FBekIsQ0FBTixDQUFBO0FBQ0Esa0JBQU8sTUFBUDtBQUFBLGlCQUNPLE9BRFA7QUFFSSxjQUFBLElBQUEsR0FBTyxPQUFBLENBQVEsU0FBQSxDQUFVLE1BQVYsQ0FBUixDQUFQLENBQUE7cUJBQ0EsVUFBQSxDQUFjLElBQUksQ0FBQyxPQUFMLENBQWEsR0FBYixFQUFrQjtBQUFBLGdCQUFBLFFBQUEsRUFBVSxPQUFWO0FBQUEsZ0JBQW1CLE1BQUEsRUFBUSxJQUEzQjtlQUFsQixDQUFILENBQUEsQ0FBWCxFQUhKO0FBQUEsaUJBSU8sT0FKUDtBQUtJLGNBQUEsTUFBQSxHQUFTLE9BQUEsQ0FBUSxTQUFBLENBQVUsUUFBVixDQUFSLENBQVQsQ0FBQTtxQkFDQSxNQUFNLENBQUMsTUFBUCxDQUFjLEdBQWQsRUFBbUI7QUFBQSxnQkFBRSxRQUFBLEVBQVUsT0FBWjtlQUFuQixFQUEwQyxTQUFDLEdBQUQsRUFBTSxHQUFOLEdBQUE7QUFDeEMsZ0JBQUEsSUFBRyxHQUFIO3lCQUNFLE9BQU8sQ0FBQyxHQUFSLENBQVkscUJBQVosRUFBbUMsT0FBbkMsRUFBNEMsR0FBNUMsRUFERjtpQkFBQSxNQUFBO3lCQUdFLFVBQUEsQ0FBVyxHQUFYLEVBSEY7aUJBRHdDO2NBQUEsQ0FBMUMsRUFOSjtBQUFBO3FCQVlJLFVBQUEsQ0FBVywwQkFBQSxDQUEyQixHQUEzQixFQUFnQyxJQUFJLENBQUMsUUFBTCxDQUFjLE9BQWQsQ0FBaEMsQ0FBWCxFQVpKO0FBQUEsV0FGRjtTQUhGO09BQUEsY0FBQTtBQW1CRSxRQURJLFlBQ0osQ0FBQTtlQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksdUJBQVosRUFBcUMsT0FBckMsRUFBOEMsR0FBOUMsRUFuQkY7T0FmRjtLQUFBLE1BbUNLLElBQUcsR0FBQSxHQUFNLENBQVQ7QUFDSCxNQUFBLElBQUcsZUFBZSxDQUFDLElBQWhCLENBQXFCLE9BQXJCLENBQUg7ZUFDRSxJQUFJLENBQUMsSUFBTCxDQUFVLElBQVYsRUFERjtPQUFBLE1BRUssSUFBRyxXQUFXLENBQUMsSUFBWixDQUFpQixPQUFqQixDQUFIO2VBQ0gsSUFBSSxDQUFDLElBQUwsQ0FBVSxLQUFWLEVBREc7T0FBQSxNQUVBLElBQUcsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsT0FBaEIsQ0FBSDtBQUNILFFBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxnQkFBWixFQUE4QixPQUE5QixDQUFBLENBQUE7ZUFDQSxnQkFBQSxDQUFBLEVBRkc7T0FMRjtLQXBDVztFQUFBLENBekRsQixDQUFBOztBQUFBLEVBc0dBLFlBQUEsR0FBZSxTQUFDLEdBQUQsRUFBTSxFQUFOLEdBQUE7QUFDYixRQUFBLG1DQUFBO0FBQUEsSUFBQSxLQUFBLEdBQVEsRUFBRSxDQUFDLFFBQUgsQ0FBWSxHQUFaLENBQVIsQ0FBQTtBQUNBLElBQUEsSUFBRyxLQUFLLENBQUMsV0FBTixDQUFBLENBQUg7QUFDRSxNQUFBLEVBQUEsQ0FBRyxHQUFILENBQUEsQ0FBQTtBQUNBO0FBQUE7V0FBQSw0Q0FBQTtzQkFBQTtBQUNFLHNCQUFBLFlBQUEsQ0FBYSxJQUFJLENBQUMsSUFBTCxDQUFVLEdBQVYsRUFBZSxDQUFmLENBQWIsRUFBZ0MsRUFBaEMsRUFBQSxDQURGO0FBQUE7c0JBRkY7S0FGYTtFQUFBLENBdEdmLENBQUE7O0FBQUEsRUE2R0EsUUFBQSxHQUFXLFNBQUMsSUFBRCxFQUFPLEVBQVAsR0FBQTtXQUNULFlBQUEsQ0FBYSxJQUFiLEVBQW1CLFNBQUMsR0FBRCxHQUFBO2FBQ2pCLEVBQUUsQ0FBQyxLQUFILENBQVMsR0FBVCxFQUFjLFNBQUMsS0FBRCxFQUFRLFFBQVIsR0FBQTtBQUNaLFlBQUEsSUFBQTtBQUFBLFFBQUEsSUFBQSxHQUFPLElBQUksQ0FBQyxJQUFMLENBQVUsR0FBVixFQUFlLFFBQWYsQ0FBUCxDQUFBO2VBQ0EsRUFBQSxDQUFHLEtBQUgsRUFBVSxJQUFWLEVBRlk7TUFBQSxDQUFkLEVBRGlCO0lBQUEsQ0FBbkIsRUFEUztFQUFBLENBN0dYLENBQUE7O0FBQUEsRUFtSEEsYUFBQSxHQUFnQixTQUFDLElBQUQsR0FBQTtBQUNkLElBQUEsSUFBRyxFQUFFLENBQUMsVUFBSCxDQUFjLElBQWQsQ0FBSDtBQUNFLE1BQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxHQUFaLEVBQWlCLElBQWpCLENBQUEsQ0FBQTthQUNBLFlBQUEsQ0FBYSxJQUFiLEVBQW1CLFNBQUMsR0FBRCxHQUFBO0FBQ2pCLFlBQUEsa0JBQUE7QUFBQTtBQUFBLGFBQUEsNENBQUE7d0JBQUE7QUFDRSxVQUFBLGVBQUEsQ0FBZ0IsSUFBSSxDQUFDLElBQUwsQ0FBVSxHQUFWLEVBQWUsQ0FBZixDQUFoQixDQUFBLENBREY7QUFBQSxTQUFBO2VBRUEsRUFBRSxDQUFDLEtBQUgsQ0FBUyxHQUFULEVBQWMsU0FBQyxLQUFELEVBQVEsUUFBUixHQUFBO0FBQ1osY0FBQSxJQUFBO0FBQUEsVUFBQSxJQUFBLEdBQU8sSUFBSSxDQUFDLElBQUwsQ0FBVSxHQUFWLEVBQWUsUUFBZixDQUFQLENBQUE7QUFDQSxVQUFBLElBQUcsRUFBRSxDQUFDLFVBQUgsQ0FBYyxJQUFkLENBQUg7bUJBQ0UsZUFBQSxDQUFnQixJQUFoQixFQURGO1dBQUEsTUFBQTtBQUFBO1dBRlk7UUFBQSxDQUFkLEVBSGlCO01BQUEsQ0FBbkIsRUFGRjtLQURjO0VBQUEsQ0FuSGhCLENBQUE7O0FBQUEsRUFnSUEsYUFBQSxHQUFnQixTQUFDLEVBQUQsR0FBQTtBQUNkLFFBQUEsMkRBQUE7QUFBQSxJQUFBLEdBQUEsR0FBTSxFQUFOLENBQUE7QUFDQSxJQUFBLElBQUcsRUFBRSxDQUFDLFVBQUgsQ0FBYyxFQUFkLENBQUg7QUFDRTtBQUFBLFdBQUEsNENBQUE7eUJBQUE7QUFDRSxRQUFBLElBQUEsR0FBTyxJQUFJLENBQUMsSUFBTCxDQUFBLENBQVAsQ0FBQTtBQUFBLFFBQ0EsQ0FBQSxHQUFJLElBQUksQ0FBQyxPQUFMLENBQWEsR0FBYixDQURKLENBQUE7QUFFQSxRQUFBLElBQUcsSUFBSyxDQUFBLENBQUEsQ0FBTCxLQUFXLEdBQVgsSUFBbUIsQ0FBQSxHQUFJLENBQTFCO0FBQ0UsVUFBQSxDQUFBLEdBQUksRUFBSixDQUFBO0FBQ0E7QUFBQSxlQUFBLDhDQUFBOzBCQUFBO0FBQ0UsWUFBQSxDQUFDLENBQUMsSUFBRixDQUFPLENBQUMsQ0FBQyxLQUFGLENBQVEsQ0FBUixFQUFXLENBQVgsQ0FBYSxDQUFDLFdBQWQsQ0FBQSxDQUFBLEdBQThCLENBQUMsQ0FBQyxLQUFGLENBQVEsQ0FBUixDQUFVLENBQUMsV0FBWCxDQUFBLENBQXJDLENBQUEsQ0FERjtBQUFBLFdBREE7QUFBQSxVQUdBLENBQUEsR0FBSSxDQUFDLENBQUMsSUFBRixDQUFPLEVBQVAsQ0FISixDQUFBO0FBQUEsVUFJQSxDQUFBLEdBQUksSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFBLEdBQUUsQ0FBYixDQUFlLENBQUMsSUFBaEIsQ0FBQSxDQUpKLENBQUE7QUFBQSxVQUtBLEdBQUksQ0FBQSxDQUFBLENBQUosR0FBUyxJQUFJLENBQUMsS0FBTCxDQUFXLENBQVgsQ0FMVCxDQURGO1NBSEY7QUFBQSxPQURGO0tBREE7V0FZQSxJQWJjO0VBQUEsQ0FoSWhCLENBQUE7O0FBQUEsRUFpSkEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxzQ0FBWixDQWpKQSxDQUFBOztBQW1KQTtBQUFJLElBQUMsV0FBWSxPQUFBLENBQVEsSUFBSSxDQUFDLE9BQUwsQ0FBYSxTQUFiLEVBQXdCLFVBQXhCLENBQVIsRUFBWixRQUFELENBQUo7R0FBQSxrQkFuSkE7O0FBQUEsRUFvSkEsYUFBQSxxQkFBYyxRQUFRLENBQUUsZ0JBQVYsSUFBb0IsT0FBbEMsQ0FwSkEsQ0FBQTs7QUFBQSxFQXFKQSxhQUFBLHFCQUFjLFFBQVEsQ0FBRSxpQkFBVixJQUFxQixRQUFuQyxDQXJKQSxDQUFBOztBQUFBLEVBc0pBLGFBQUEscUJBQWMsUUFBUSxDQUFFLG1CQUFWLElBQXVCLFVBQXJDLENBdEpBLENBQUE7O0FBQUEsRUF1SkEsYUFBQSxxQkFBYyxRQUFRLENBQUUsb0JBQVYsSUFBd0IsV0FBdEMsQ0F2SkEsQ0FBQTs7QUF5SkEsRUFBQSxJQUFHLEVBQUUsQ0FBQyxVQUFILENBQWMsY0FBZCxDQUFIO0FBQ0UsSUFBQSxPQUFBLENBQUEsQ0FBQSxDQURGO0dBQUEsTUFBQTtBQUdFLElBQUEsUUFBQSxHQUFXLENBQUMsZUFBRCxFQUFrQixvQkFBbEIsRUFBd0MsTUFBeEMsRUFBZ0QsUUFBaEQsQ0FBWCxDQUFBO0FBQUEsSUFDQSxPQUFPLENBQUMsR0FBUixDQUFZLGlDQUFaLEVBQStDLFFBQVEsQ0FBQyxJQUFULENBQWMsR0FBZCxDQUEvQyxDQURBLENBQUE7QUFBQSxJQUVBLE9BQUEsR0FBYSxPQUFPLENBQUMsUUFBUixLQUFvQixPQUF2QixHQUFvQyxTQUFwQyxHQUFtRCxLQUY3RCxDQUFBO0FBQUEsSUFHQSxRQUFBLENBQVMsT0FBVCxFQUFtQixDQUFBLFNBQVcsU0FBQSxhQUFBLFFBQUEsQ0FBQSxDQUE5QixFQUE0QztBQUFBLE1BQUMsR0FBQSxFQUFJLE9BQU8sQ0FBQyxHQUFiO0tBQTVDLEVBQStELFNBQUMsR0FBRCxFQUFNLENBQU4sRUFBUyxDQUFULEdBQUE7QUFDN0QsTUFBQSxJQUFjLFdBQWQ7QUFBQSxRQUFBLEtBQUEsQ0FBTSxHQUFOLENBQUEsQ0FBQTtPQUFBO2FBQ0EsT0FBQSxDQUFBLEVBRjZEO0lBQUEsQ0FBL0QsQ0FIQSxDQUhGO0dBekpBO0FBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIjIEplZUJ1cyBkZXZlbG9wbWVudCBtb2RlOiByZS1jb21waWxlcyBHbyBhbmQgQ1MvSmFkZS9TdHlsdXMgYXMgbmVlZGVkXG4jIC1qY3csIDIwMTQtMDItMTlcblxuZnMgPSByZXF1aXJlICdmcydcbnBhdGggPSByZXF1aXJlICdwYXRoJ1xue2V4ZWNGaWxlLHNwYXdufSA9IHJlcXVpcmUgJ2NoaWxkX3Byb2Nlc3MnXG5cbiMgbG9vayBmb3IgbW9kdWxlcyByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBkaXJlY3RvcnksIG5vdCByZWxhdGl2ZSB0byB0aGlzIGZpbGVcbm1vZHVsZURpciA9IChzKSAtPiBwYXRoLnJlc29sdmUgJ25vZGVfbW9kdWxlcycsIHNcblxuZmF0YWwgPSAocykgLT5cbiAgY29uc29sZS5lcnJvciAnXFxuW25vZGVdIGZhdGFsIGVycm9yOicsIHNcbiAgcHJvY2Vzcy5leGl0IDFcblxubWFpbiA9IHVuZGVmaW5lZFxucGlkID0gdW5kZWZpbmVkXG5cbiMgbGF1bmNoIHRoZSBtYWluIGFwcCBieSBjb21waWxpbmcgYWxsIGl0cyAuZ28gZmlsZXMgdmlhIFwiZ28gZ2V0XCJcbnJ1bk1haW4gPSAtPlxuICBhcmdzID0gWydydW4nXVxuICBmb3IgZiBpbiBmcy5yZWFkZGlyU3luYyAnLidcbiAgICBpZiAvXFwuZ28kL2kudGVzdChmKSBhbmQgbm90IC9fdGVzdFxcLi9pLnRlc3QoZilcbiAgICAgIGFyZ3MucHVzaCBmXG4gICAgICBmcy53YXRjaCBmLCByZWNvbXBpbGVHb0ZpbGVzXG4gIGFyZ3MgPSBhcmdzLmNvbmNhdCBwcm9jZXNzLmFyZ3Yuc2xpY2UoMilcbiAgY29uc29sZS5sb2cgJ1tub2RlXSBnbycsIGFyZ3Muam9pbiAnICdcbiAgbWFpbiA9IHNwYXduICdnbycsIGFyZ3MsIHN0ZGlvOiBbJ2lwYycsIHByb2Nlc3Muc3Rkb3V0LCBwcm9jZXNzLnN0ZGVycl1cbiAgbWFpbi5vbiAnZXJyb3InLCAoZXJyKSAtPlxuICAgIGZhdGFsICdjYW5ub3QgbGF1bmNoIFwiZ29cIidcbiAgbWFpbi5vbiAnbWVzc2FnZScsIChtc2cpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tub2RlXSBwaWQgbWVzc2FnZTonLCBtc2csICdcXG4nXG4gICAgcGlkID0gbXNnIHwgMCAjIHRoaXMgaXMgb25seSA+IDAgd2hlbiBhIHBsYWluIG51bWJlciBpcyByZWNlaXZlZFxuICBtYWluLm9uICdjbG9zZScsIChjb2RlKSAtPlxuICAgIGZhdGFsICd1bmV4cGVjdGVkIHRlcm1pbmF0aW9uIG9mIFwibWFpblwiLCBjb2RlOiAnICsgY29kZSAgaWYgY29kZSA+IDBcbiAgbWFpbi5vbiAnZXhpdCcsIC0+XG4gICAgZmF0YWwgJ21haW4gZXhpdGVkJ1xuICBtYWluLnNlbmQgbnVsbFxuXG4jIHJlLWNvbXBpbGUgd2hlbiBhIC5nbyBmaWxlcyBjaGFuZ2VzLCBpZiB0aGUgcnVubmluZyBwcm9jZXNzIGlzIGtub3duXG5yZWNvbXBpbGVHb0ZpbGVzID0gLT5cbiAgaWYgcGlkID4gMFxuICAgIG1haW4ucmVtb3ZlQWxsTGlzdGVuZXJzKCkgIyBwcmV2ZW50IHRyaWdnZXJpbmcgb24gdGhlICdleGl0JyBldmVudFxuICAgIHByb2Nlc3Mua2lsbCBwaWQsICdTSUdIVVAnXG4gICAgcGlkID0gMFxuICAgIHJ1bk1haW4oKVxuXG5jb21waWxlQ29mZmVlU2NyaXB0V2l0aE1hcCA9IChzb3VyY2VDb2RlLCBmaWxlbmFtZSkgLT5cbiAgY29mZmVlID0gcmVxdWlyZSBtb2R1bGVEaXIgJ2NvZmZlZS1zY3JpcHQnXG4gIGNvbXBpbGVkID0gY29mZmVlLmNvbXBpbGUgc291cmNlQ29kZSxcbiAgICBmaWxlbmFtZTogZmlsZW5hbWVcbiAgICBzb3VyY2VNYXA6IHRydWVcbiAgICBpbmxpbmU6IHRydWVcbiAgICBsaXRlcmF0ZTogcGF0aC5leHRuYW1lKGZpbGVuYW1lKSBpc250ICcuY29mZmVlJ1xuICBjb252ZXJ0ID0gcmVxdWlyZSBtb2R1bGVEaXIgJ2NvbnZlcnQtc291cmNlLW1hcCdcbiAgY29tbWVudCA9IGNvbnZlcnRcbiAgICAuZnJvbUpTT04oY29tcGlsZWQudjNTb3VyY2VNYXApXG4gICAgLnNldFByb3BlcnR5KCdzb3VyY2VzJywgW2ZpbGVuYW1lXSkgXG4gICAgLnRvQ29tbWVudCgpXG4gIFwiI3tjb21waWxlZC5qc31cXG4je2NvbW1lbnR9XFxuXCJcbiAgXG5jb21waWxlSWZOZWVkZWQgPSAoc3JjRmlsZSkgLT5cbiAgaWYgL1xcLihjb2ZmZWV8Y29mZmVlXFwubWR8bGl0Y29mZmVlfGphZGV8c3R5bCkkL2kudGVzdCBzcmNGaWxlXG4gICAgc3JjRXh0ID0gcGF0aC5leHRuYW1lIHNyY0ZpbGVcbiAgICBkZXN0RXh0ID0gc3dpdGNoIHNyY0V4dFxuICAgICAgd2hlbiAnLmphZGUnIHRoZW4gJy5odG1sJ1xuICAgICAgd2hlbiAnLnN0eWwnIHRoZW4gJy5jc3MnXG4gICAgICBlbHNlICAgICAgICAgICAgICAnLmpzJ1xuICAgIGRlc3RGaWxlID0gc3JjRmlsZS5zbGljZSgwLCAtIHNyY0V4dC5sZW5ndGgpICsgZGVzdEV4dFxuXG4gICAgdCA9IERhdGUubm93KClcbiAgICBzYXZlUmVzdWx0ID0gKGRhdGEpIC0+XG4gICAgICBuID0gZGF0YS5sZW5ndGhcbiAgICAgIG1zID0gRGF0ZS5ub3coKSAtIHRcbiAgICAgIGNvbnNvbGUubG9nIFwiW25vZGVdIGNvbXBpbGUgI3tzcmNGaWxlfSAtPiAje2Rlc3RFeHR9ICN7bn1iICN7bXN9IG1zXCJcbiAgICAgIGZzLndyaXRlRmlsZVN5bmMgZGVzdEZpbGUsIGRhdGFcblxuICAgIHRyeVxuICAgICAgc3JjU3RhdCA9IGZzLnN0YXRTeW5jIHNyY0ZpbGVcbiAgICAgIGRlc3RTdGF0ID0gZnMuc3RhdFN5bmMgZGVzdEZpbGUgIGlmIGZzLmV4aXN0c1N5bmMgZGVzdEZpbGVcbiAgICAgIHVubGVzcyBkZXN0U3RhdD8ubXRpbWUgPj0gc3JjU3RhdC5tdGltZVxuICAgICAgICBzcmMgPSBmcy5yZWFkRmlsZVN5bmMgc3JjRmlsZSwgZW5jb2Rpbmc6ICd1dGY4J1xuICAgICAgICBzd2l0Y2ggc3JjRXh0XG4gICAgICAgICAgd2hlbiAnLmphZGUnXG4gICAgICAgICAgICBqYWRlID0gcmVxdWlyZSBtb2R1bGVEaXIgJ2phZGUnXG4gICAgICAgICAgICBzYXZlUmVzdWx0IGRvIGphZGUuY29tcGlsZSBzcmMsIGZpbGVuYW1lOiBzcmNGaWxlLCBwcmV0dHk6IHRydWVcbiAgICAgICAgICB3aGVuICcuc3R5bCdcbiAgICAgICAgICAgIHN0eWx1cyA9IHJlcXVpcmUgbW9kdWxlRGlyICdzdHlsdXMnXG4gICAgICAgICAgICBzdHlsdXMucmVuZGVyIHNyYywgeyBmaWxlbmFtZTogc3JjRmlsZSB9LCAoZXJyLCBjc3MpIC0+XG4gICAgICAgICAgICAgIGlmIGVyclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nICdbbm9kZV0gc3R5bHVzIGVycm9yJywgc3JjRmlsZSwgZXJyXG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBzYXZlUmVzdWx0IGNzc1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHNhdmVSZXN1bHQgY29tcGlsZUNvZmZlZVNjcmlwdFdpdGhNYXAgc3JjLCBwYXRoLmJhc2VuYW1lIHNyY0ZpbGVcbiAgICBjYXRjaCBlcnJcbiAgICAgIGNvbnNvbGUubG9nICdbbm9kZV0gY2Fubm90IGNvbXBpbGUnLCBzcmNGaWxlLCBlcnJcbiAgZWxzZSBpZiBwaWQgPiAwXG4gICAgaWYgL1xcLihodG1sfGpzKSQvaS50ZXN0IHNyY0ZpbGVcbiAgICAgIG1haW4uc2VuZCB0cnVlICMgcmVxdWVzdCBhIGZ1bGwgcGFnZSByZWxvYWRcbiAgICBlbHNlIGlmIC9cXC4oY3NzKSQvaS50ZXN0IHNyY0ZpbGVcbiAgICAgIG1haW4uc2VuZCBmYWxzZSAjIHJlcXVlc3QgYSBzdHlsZXNoZWV0IHJlbG9hZFxuICAgIGVsc2UgaWYgL1xcLihnbykkL2kudGVzdCBzcmNGaWxlXG4gICAgICBjb25zb2xlLmxvZyBcIltub2RlXSBjaGFuZ2VkXCIsIHNyY0ZpbGVcbiAgICAgIHJlY29tcGlsZUdvRmlsZXMoKVxuXG50cmF2ZXJzZURpcnMgPSAoZGlyLCBjYikgLT4gIyByZWN1cnNpdmUgZGlyZWN0b3J5IHRyYXZlcnNhbFxuICBzdGF0cyA9IGZzLnN0YXRTeW5jIGRpclxuICBpZiBzdGF0cy5pc0RpcmVjdG9yeSgpXG4gICAgY2IgZGlyXG4gICAgZm9yIGYgaW4gZnMucmVhZGRpclN5bmMgZGlyXG4gICAgICB0cmF2ZXJzZURpcnMgcGF0aC5qb2luKGRpciwgZiksIGNiXG5cbndhdGNoRGlyID0gKHJvb3QsIGNiKSAtPiAjIHJlY3Vyc2l2ZSBkaXJlY3Rvcnkgd2F0Y2hlclxuICB0cmF2ZXJzZURpcnMgcm9vdCwgKGRpcikgLT5cbiAgICBmcy53YXRjaCBkaXIsIChldmVudCwgZmlsZW5hbWUpIC0+XG4gICAgICBmaWxlID0gcGF0aC5qb2luIGRpciwgZmlsZW5hbWVcbiAgICAgIGNiIGV2ZW50LCBmaWxlXG5cbmNyZWF0ZVdhdGNoZXIgPSAocm9vdCkgLT5cbiAgaWYgZnMuZXhpc3RzU3luYyByb290XG4gICAgY29uc29sZS5sb2cgXCIgXCIsIHJvb3RcbiAgICB0cmF2ZXJzZURpcnMgcm9vdCwgKGRpcikgLT5cbiAgICAgIGZvciBmIGluIGZzLnJlYWRkaXJTeW5jIGRpclxuICAgICAgICBjb21waWxlSWZOZWVkZWQgcGF0aC5qb2luIGRpciwgZlxuICAgICAgZnMud2F0Y2ggZGlyLCAoZXZlbnQsIGZpbGVuYW1lKSAtPlxuICAgICAgICBmaWxlID0gcGF0aC5qb2luIGRpciwgZmlsZW5hbWVcbiAgICAgICAgaWYgZnMuZXhpc3RzU3luYyBmaWxlXG4gICAgICAgICAgY29tcGlsZUlmTmVlZGVkIGZpbGVcbiAgICAgICAgZWxzZVxuICAgICAgICAgICMgVE9ETzogZGVsZXRlIGNvbXBpbGVkIGZpbGVcblxucGFyc2VTZXR0aW5ncyA9IChmbikgLT5cbiAgbWFwID0ge31cbiAgaWYgZnMuZXhpc3RzU3luYyBmblxuICAgIGZvciBsaW5lIGluIGZzLnJlYWRGaWxlU3luYyhmbiwgJ3V0ZjgnKS5zcGxpdCAnXFxuJ1xuICAgICAgbGluZSA9IGxpbmUudHJpbSgpXG4gICAgICBpID0gbGluZS5pbmRleE9mKCc9JylcbiAgICAgIGlmIGxpbmVbMF0gIT0gJyMnIGFuZCBpID4gMFxuICAgICAgICB4ID0gW11cbiAgICAgICAgZm9yIHMgaW4gbGluZS5zbGljZSgwLCBpKS50cmltKCkuc3BsaXQgJ18nXG4gICAgICAgICAgeC5wdXNoIHMuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHMuc2xpY2UoMSkudG9Mb3dlckNhc2UoKVxuICAgICAgICBrID0geC5qb2luIFwiXCJcbiAgICAgICAgdiA9IGxpbmUuc2xpY2UoaSsxKS50cmltKClcbiAgICAgICAgbWFwW2tdID0gSlNPTi5wYXJzZSB2XG4gIG1hcFxuXG4jIFN0YXJ0IG9mIGRldm1vZGUgYXBwbGljYXRpb24gY29kZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zb2xlLmxvZyAnW25vZGVdIHdhdGNoaW5nIGZvciBmaWxlIGNoYW5nZXMgaW46J1xuXG50cnkge3NldHRpbmdzfSA9IHJlcXVpcmUocGF0aC5yZXNvbHZlIF9fZGlybmFtZSwgJy4uL3NldHVwJylcbmNyZWF0ZVdhdGNoZXIgc2V0dGluZ3M/LmFwcERpciBvciAnLi9hcHAnXG5jcmVhdGVXYXRjaGVyIHNldHRpbmdzPy5iYXNlRGlyIG9yICcuL2Jhc2UnXG5jcmVhdGVXYXRjaGVyIHNldHRpbmdzPy5jb21tb25EaXIgb3IgJy4vY29tbW9uJ1xuY3JlYXRlV2F0Y2hlciBzZXR0aW5ncz8uZ2FkZ2V0c0RpciBvciAnLi9nYWRnZXRzJ1xuXG5pZiBmcy5leGlzdHNTeW5jICdub2RlX21vZHVsZXMnXG4gIHJ1bk1haW4oKVxuZWxzZVxuICBwYWNrYWdlcyA9IFsnY29mZmVlLXNjcmlwdCcsICdjb252ZXJ0LXNvdXJjZS1tYXAnLCAnamFkZScsICdzdHlsdXMnXVxuICBjb25zb2xlLmxvZyAnW25vZGVdIGluc3RhbGxpbmcgbnBtIHBhY2thZ2VzOicsIHBhY2thZ2VzLmpvaW4gJyAnXG4gIG5wbXN0dWIgPSBpZiBwcm9jZXNzLnBsYXRmb3JtID09IFwid2luMzJcIiB0aGVuIFwibnBtLmNtZFwiIGVsc2UgXCJucG1cIlxuICBleGVjRmlsZSBucG1zdHViLCBbJ2luc3RhbGwnLCBwYWNrYWdlcy4uLl0sIHtlbnY6cHJvY2Vzcy5lbnZ9LCAoZXJyLCBvLCBlKSAtPlxuICAgIGZhdGFsIGVyciAgaWYgZXJyP1xuICAgIHJ1bk1haW4oKVxuIl19
