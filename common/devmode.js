(function() {
  var compileCoffeeScriptWithMap, compileIfNeeded, createWatcher, execFile, fatal, fs, main, moduleDir, npmstub, packages, parseSettings, path, pid, recompileGoFiles, runMain, settings, spawn, traverseDirs, watchDir, _ref,
    __slice = [].slice;

  fs = require('fs');

  path = require('path');

  _ref = require('child_process'), execFile = _ref.execFile, spawn = _ref.spawn;

  moduleDir = function(s) {
    return path.resolve('node_modules', s);
  };

  fatal = function(s) {
    console.error('\n[node] fatal error:', s);
    return process.exit(1);
  };

  main = void 0;

  pid = void 0;

  runMain = function() {
    var args, f, _i, _len, _ref1;
    args = ['run'];
    _ref1 = fs.readdirSync('.');
    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
      f = _ref1[_i];
      if (/\.go$/i.test(f) && !/_test\./i.test(f)) {
        args.push(f);
        fs.watch(f, recompileGoFiles);
      }
    }
    args = args.concat(process.argv.slice(2));
    console.log('[node] go', args.join(' '));
    main = spawn('go', args, {
      stdio: ['ipc', process.stdout, process.stderr]
    });
    main.on('error', function(err) {
      return fatal('cannot launch "go"');
    });
    main.on('message', function(msg) {
      console.log('[node] pid message:', msg, '\n');
      return pid = msg | 0;
    });
    main.on('close', function(code) {
      if (code > 0) {
        return fatal('unexpected termination of "main", code: ' + code);
      }
    });
    return main.on('exit', function() {
      return fatal('main exited');
    });
  };

  recompileGoFiles = function() {
    if (pid > 0) {
      main.removeAllListeners();
      process.kill(pid, 'SIGHUP');
      pid = 0;
      return runMain();
    }
  };

  compileCoffeeScriptWithMap = function(sourceCode, filename) {
    var coffee, comment, compiled, convert;
    coffee = require(moduleDir('coffee-script'));
    compiled = coffee.compile(sourceCode, {
      filename: filename,
      sourceMap: true,
      inline: true,
      literate: path.extname(filename) !== '.coffee'
    });
    convert = require(moduleDir('convert-source-map'));
    comment = convert.fromJSON(compiled.v3SourceMap).setProperty('sources', [filename]).toComment();
    return "" + compiled.js + "\n" + comment + "\n";
  };

  compileIfNeeded = function(srcFile) {
    var destExt, destFile, destStat, err, jade, saveResult, src, srcExt, srcStat, stylus, t;
    if (/\.(coffee|coffee\.md|litcoffee|jade|styl)$/i.test(srcFile)) {
      srcExt = path.extname(srcFile);
      destExt = (function() {
        switch (srcExt) {
          case '.jade':
            return '.html';
          case '.styl':
            return '.css';
          default:
            return '.js';
        }
      })();
      destFile = srcFile.slice(0, -srcExt.length) + destExt;
      t = Date.now();
      saveResult = function(data) {
        var ms, n;
        n = data.length;
        ms = Date.now() - t;
        console.log("[node] compile " + srcFile + " -> " + destExt + " " + n + "b " + ms + " ms");
        return fs.writeFileSync(destFile, data);
      };
      try {
        srcStat = fs.statSync(srcFile);
        if (fs.existsSync(destFile)) {
          destStat = fs.statSync(destFile);
        }
        if (!((destStat != null ? destStat.mtime : void 0) >= srcStat.mtime)) {
          src = fs.readFileSync(srcFile, {
            encoding: 'utf8'
          });
          switch (srcExt) {
            case '.jade':
              jade = require(moduleDir('jade'));
              return saveResult(jade.compile(src, {
                filename: srcFile,
                pretty: true
              })());
            case '.styl':
              stylus = require(moduleDir('stylus'));
              return stylus.render(src, {
                filename: srcFile
              }, function(err, css) {
                if (err) {
                  return console.log('[node] stylus error', srcFile, err);
                } else {
                  return saveResult(css);
                }
              });
            default:
              return saveResult(compileCoffeeScriptWithMap(src, path.basename(srcFile)));
          }
        }
      } catch (_error) {
        err = _error;
        return console.log('[node] cannot compile', srcFile, err);
      }
    } else if (pid > 0) {
      if (/\.(html|js)$/i.test(srcFile)) {
        return main.send(true);
      } else if (/\.(css)$/i.test(srcFile)) {
        return main.send(false);
      } else if (/\.(go)$/i.test(srcFile)) {
        console.log("[node] changed", srcFile);
        return recompileGoFiles();
      }
    }
  };

  traverseDirs = function(dir, cb) {
    var f, stats, _i, _len, _ref1, _results;
    stats = fs.statSync(dir);
    if (stats.isDirectory()) {
      cb(dir);
      _ref1 = fs.readdirSync(dir);
      _results = [];
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        f = _ref1[_i];
        _results.push(traverseDirs(path.join(dir, f), cb));
      }
      return _results;
    }
  };

  watchDir = function(root, cb) {
    return traverseDirs(root, function(dir) {
      return fs.watch(dir, function(event, filename) {
        var file;
        file = path.join(dir, filename);
        return cb(event, file);
      });
    });
  };

  createWatcher = function(root) {
    if (fs.existsSync(root)) {
      console.log(" ", root);
      return traverseDirs(root, function(dir) {
        var f, _i, _len, _ref1;
        _ref1 = fs.readdirSync(dir);
        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
          f = _ref1[_i];
          compileIfNeeded(path.join(dir, f));
        }
        return fs.watch(dir, function(event, filename) {
          var file;
          file = path.join(dir, filename);
          if (fs.existsSync(file)) {
            return compileIfNeeded(file);
          } else {

          }
        });
      });
    }
  };

  parseSettings = function(fn) {
    var i, k, line, map, s, v, x, _i, _j, _len, _len1, _ref1, _ref2;
    map = {};
    if (fs.existsSync(fn)) {
      _ref1 = fs.readFileSync(fn, 'utf8').split('\n');
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        line = _ref1[_i];
        line = line.trim();
        i = line.indexOf('=');
        if (line[0] !== '#' && i > 0) {
          x = [];
          _ref2 = line.slice(0, i).trim().split('_');
          for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
            s = _ref2[_j];
            x.push(s.slice(0, 1).toUpperCase() + s.slice(1).toLowerCase());
          }
          k = x.join("");
          v = line.slice(i + 1).trim();
          map[k] = JSON.parse(v);
        }
      }
    }
    return map;
  };

  console.log('[node] watching for file changes in:');

  try {
    settings = require(path.resolve(__dirname, '../setup')).settings;
  } catch (_error) {}

  createWatcher((settings != null ? settings.appDir : void 0) || './app');

  createWatcher((settings != null ? settings.baseDir : void 0) || './base');

  createWatcher((settings != null ? settings.commonDir : void 0) || './common');

  createWatcher((settings != null ? settings.gadgetsDir : void 0) || './gadgets');

  if (fs.existsSync('node_modules')) {
    runMain();
  } else {
    packages = ['coffee-script', 'convert-source-map', 'jade', 'stylus'];
    console.log('[node] installing npm packages:', packages.join(' '));
    npmstub = process.platform === "win32" ? "npm.cmd" : "npm";
    execFile(npmstub, ['install'].concat(__slice.call(packages)), {
      env: process.env
    }, function(err, o, e) {
      if (err != null) {
        fatal(err);
      }
      return runMain();
    });
  }

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZGV2bW9kZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7QUFBQSxNQUFBLHVOQUFBO0lBQUEsa0JBQUE7O0FBQUEsRUFBQSxFQUFBLEdBQUssT0FBQSxDQUFRLElBQVIsQ0FBTCxDQUFBOztBQUFBLEVBQ0EsSUFBQSxHQUFPLE9BQUEsQ0FBUSxNQUFSLENBRFAsQ0FBQTs7QUFBQSxFQUVBLE9BQW1CLE9BQUEsQ0FBUSxlQUFSLENBQW5CLEVBQUMsZ0JBQUEsUUFBRCxFQUFVLGFBQUEsS0FGVixDQUFBOztBQUFBLEVBS0EsU0FBQSxHQUFZLFNBQUMsQ0FBRCxHQUFBO1dBQU8sSUFBSSxDQUFDLE9BQUwsQ0FBYSxjQUFiLEVBQTZCLENBQTdCLEVBQVA7RUFBQSxDQUxaLENBQUE7O0FBQUEsRUFPQSxLQUFBLEdBQVEsU0FBQyxDQUFELEdBQUE7QUFDTixJQUFBLE9BQU8sQ0FBQyxLQUFSLENBQWMsdUJBQWQsRUFBdUMsQ0FBdkMsQ0FBQSxDQUFBO1dBQ0EsT0FBTyxDQUFDLElBQVIsQ0FBYSxDQUFiLEVBRk07RUFBQSxDQVBSLENBQUE7O0FBQUEsRUFXQSxJQUFBLEdBQU8sTUFYUCxDQUFBOztBQUFBLEVBWUEsR0FBQSxHQUFNLE1BWk4sQ0FBQTs7QUFBQSxFQWVBLE9BQUEsR0FBVSxTQUFBLEdBQUE7QUFDUixRQUFBLHdCQUFBO0FBQUEsSUFBQSxJQUFBLEdBQU8sQ0FBQyxLQUFELENBQVAsQ0FBQTtBQUNBO0FBQUEsU0FBQSw0Q0FBQTtvQkFBQTtBQUNFLE1BQUEsSUFBRyxRQUFRLENBQUMsSUFBVCxDQUFjLENBQWQsQ0FBQSxJQUFxQixDQUFBLFVBQWMsQ0FBQyxJQUFYLENBQWdCLENBQWhCLENBQTVCO0FBQ0UsUUFBQSxJQUFJLENBQUMsSUFBTCxDQUFVLENBQVYsQ0FBQSxDQUFBO0FBQUEsUUFDQSxFQUFFLENBQUMsS0FBSCxDQUFTLENBQVQsRUFBWSxnQkFBWixDQURBLENBREY7T0FE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QUFjLFFBQVEsQ0FBRSxvQkFBVixJQUF3QixXQUF0QyxDQXRKQSxDQUFBOztBQXdKQSxFQUFBLElBQUcsRUFBRSxDQUFDLFVBQUgsQ0FBYyxjQUFkLENBQUg7QUFDRSxJQUFBLE9BQUEsQ0FBQSxDQUFBLENBREY7R0FBQSxNQUFBO0FBR0UsSUFBQSxRQUFBLEdBQVcsQ0FBQyxlQUFELEVBQWtCLG9CQUFsQixFQUF3QyxNQUF4QyxFQUFnRCxRQUFoRCxDQUFYLENBQUE7QUFBQSxJQUNBLE9BQU8sQ0FBQyxHQUFSLENBQVksaUNBQVosRUFBK0MsUUFBUSxDQUFDLElBQVQsQ0FBYyxHQUFkLENBQS9DLENBREEsQ0FBQTtBQUFBLElBRUEsT0FBQSxHQUFhLE9BQU8sQ0FBQyxRQUFSLEtBQW9CLE9BQXZCLEdBQW9DLFNBQXBDLEdBQW1ELEtBRjdELENBQUE7QUFBQSxJQUdBLFFBQUEsQ0FBUyxPQUFULEVBQW1CLENBQUEsU0FBVyxTQUFBLGFBQUEsUUFBQSxDQUFBLENBQTlCLEVBQTRDO0FBQUEsTUFBQyxHQUFBLEVBQUksT0FBTyxDQUFDLEdBQWI7S0FBNUMsRUFBK0QsU0FBQyxHQUFELEVBQU0sQ0FBTixFQUFTLENBQVQsR0FBQTtBQUM3RCxNQUFBLElBQWMsV0FBZDtBQUFBLFFBQUEsS0FBQSxDQUFNLEdBQU4sQ0FBQSxDQUFBO09BQUE7YUFDQSxPQUFBLENBQUEsRUFGNkQ7SUFBQSxDQUEvRCxDQUhBLENBSEY7R0F4SkE7QUFBQSIsInNvdXJjZXNDb250ZW50IjpbIiMgSmVlQnVzIGRldmVsb3BtZW50IG1vZGU6IHJlLWNvbXBpbGVzIEdvIGFuZCBDUy9KYWRlL1N0eWx1cyBhcyBuZWVkZWRcbiMgLWpjdywgMjAxNC0wMi0xOVxuXG5mcyA9IHJlcXVpcmUgJ2ZzJ1xucGF0aCA9IHJlcXVpcmUgJ3BhdGgnXG57ZXhlY0ZpbGUsc3Bhd259ID0gcmVxdWlyZSAnY2hpbGRfcHJvY2VzcydcblxuIyBsb29rIGZvciBtb2R1bGVzIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IGRpcmVjdG9yeSwgbm90IHJlbGF0aXZlIHRvIHRoaXMgZmlsZVxubW9kdWxlRGlyID0gKHMpIC0+IHBhdGgucmVzb2x2ZSAnbm9kZV9tb2R1bGVzJywgc1xuXG5mYXRhbCA9IChzKSAtPlxuICBjb25zb2xlLmVycm9yICdcXG5bbm9kZV0gZmF0YWwgZXJyb3I6Jywgc1xuICBwcm9jZXNzLmV4aXQgMVxuXG5tYWluID0gdW5kZWZpbmVkXG5waWQgPSB1bmRlZmluZWRcblxuIyBsYXVuY2ggdGhlIG1haW4gYXBwIGJ5IGNvbXBpbGluZyBhbGwgaXRzIC5nbyBmaWxlcyB2aWEgXCJnbyBnZXRcIlxucnVuTWFpbiA9IC0+XG4gIGFyZ3MgPSBbJ3J1biddXG4gIGZvciBmIGluIGZzLnJlYWRkaXJTeW5jICcuJ1xuICAgIGlmIC9cXC5nbyQvaS50ZXN0KGYpIGFuZCBub3QgL190ZXN0XFwuL2kudGVzdChmKVxuICAgICAgYXJncy5wdXNoIGZcbiAgICAgIGZzLndhdGNoIGYsIHJlY29tcGlsZUdvRmlsZXNcbiAgYXJncyA9IGFyZ3MuY29uY2F0IHByb2Nlc3MuYXJndi5zbGljZSgyKVxuICBjb25zb2xlLmxvZyAnW25vZGVdIGdvJywgYXJncy5qb2luICcgJ1xuICBtYWluID0gc3Bhd24gJ2dvJywgYXJncywgc3RkaW86IFsnaXBjJywgcHJvY2Vzcy5zdGRvdXQsIHByb2Nlc3Muc3RkZXJyXVxuICBtYWluLm9uICdlcnJvcicsIChlcnIpIC0+XG4gICAgZmF0YWwgJ2Nhbm5vdCBsYXVuY2ggXCJnb1wiJ1xuICBtYWluLm9uICdtZXNzYWdlJywgKG1zZykgLT5cbiAgICBjb25zb2xlLmxvZyAnW25vZGVdIHBpZCBtZXNzYWdlOicsIG1zZywgJ1xcbidcbiAgICBwaWQgPSBtc2cgfCAwICMgdGhpcyBpcyBvbmx5ID4gMCB3aGVuIGEgcGxhaW4gbnVtYmVyIGlzIHJlY2VpdmVkXG4gIG1haW4ub24gJ2Nsb3NlJywgKGNvZGUpIC0+XG4gICAgZmF0YWwgJ3VuZXhwZWN0ZWQgdGVybWluYXRpb24gb2YgXCJtYWluXCIsIGNvZGU6ICcgKyBjb2RlICBpZiBjb2RlID4gMFxuICBtYWluLm9uICdleGl0JywgLT5cbiAgICBmYXRhbCAnbWFpbiBleGl0ZWQnXG5cbiMgcmUtY29tcGlsZSB3aGVuIGEgLmdvIGZpbGVzIGNoYW5nZXMsIGlmIHRoZSBydW5uaW5nIHByb2Nlc3MgaXMga25vd25cbnJlY29tcGlsZUdvRmlsZXMgPSAtPlxuICBpZiBwaWQgPiAwXG4gICAgbWFpbi5yZW1vdmVBbGxMaXN0ZW5lcnMoKSAjIHByZXZlbnQgdHJpZ2dlcmluZyBvbiB0aGUgJ2V4aXQnIGV2ZW50XG4gICAgcHJvY2Vzcy5raWxsIHBpZCwgJ1NJR0hVUCdcbiAgICBwaWQgPSAwXG4gICAgcnVuTWFpbigpXG5cbmNvbXBpbGVDb2ZmZWVTY3JpcHRXaXRoTWFwID0gKHNvdXJjZUNvZGUsIGZpbGVuYW1lKSAtPlxuICBjb2ZmZWUgPSByZXF1aXJlIG1vZHVsZURpciAnY29mZmVlLXNjcmlwdCdcbiAgY29tcGlsZWQgPSBjb2ZmZWUuY29tcGlsZSBzb3VyY2VDb2RlLFxuICAgIGZpbGVuYW1lOiBmaWxlbmFtZVxuICAgIHNvdXJjZU1hcDogdHJ1ZVxuICAgIGlubGluZTogdHJ1ZVxuICAgIGxpdGVyYXRlOiBwYXRoLmV4dG5hbWUoZmlsZW5hbWUpIGlzbnQgJy5jb2ZmZWUnXG4gIGNvbnZlcnQgPSByZXF1aXJlIG1vZHVsZURpciAnY29udmVydC1zb3VyY2UtbWFwJ1xuICBjb21tZW50ID0gY29udmVydFxuICAgIC5mcm9tSlNPTihjb21waWxlZC52M1NvdXJjZU1hcClcbiAgICAuc2V0UHJvcGVydHkoJ3NvdXJjZXMnLCBbZmlsZW5hbWVdKSBcbiAgICAudG9Db21tZW50KClcbiAgXCIje2NvbXBpbGVkLmpzfVxcbiN7Y29tbWVudH1cXG5cIlxuICBcbmNvbXBpbGVJZk5lZWRlZCA9IChzcmNGaWxlKSAtPlxuICBpZiAvXFwuKGNvZmZlZXxjb2ZmZWVcXC5tZHxsaXRjb2ZmZWV8amFkZXxzdHlsKSQvaS50ZXN0IHNyY0ZpbGVcbiAgICBzcmNFeHQgPSBwYXRoLmV4dG5hbWUgc3JjRmlsZVxuICAgIGRlc3RFeHQgPSBzd2l0Y2ggc3JjRXh0XG4gICAgICB3aGVuICcuamFkZScgdGhlbiAnLmh0bWwnXG4gICAgICB3aGVuICcuc3R5bCcgdGhlbiAnLmNzcydcbiAgICAgIGVsc2UgICAgICAgICAgICAgICcuanMnXG4gICAgZGVzdEZpbGUgPSBzcmNGaWxlLnNsaWNlKDAsIC0gc3JjRXh0Lmxlbmd0aCkgKyBkZXN0RXh0XG5cbiAgICB0ID0gRGF0ZS5ub3coKVxuICAgIHNhdmVSZXN1bHQgPSAoZGF0YSkgLT5cbiAgICAgIG4gPSBkYXRhLmxlbmd0aFxuICAgICAgbXMgPSBEYXRlLm5vdygpIC0gdFxuICAgICAgY29uc29sZS5sb2cgXCJbbm9kZV0gY29tcGlsZSAje3NyY0ZpbGV9IC0+ICN7ZGVzdEV4dH0gI3tufWIgI3ttc30gbXNcIlxuICAgICAgZnMud3JpdGVGaWxlU3luYyBkZXN0RmlsZSwgZGF0YVxuXG4gICAgdHJ5XG4gICAgICBzcmNTdGF0ID0gZnMuc3RhdFN5bmMgc3JjRmlsZVxuICAgICAgZGVzdFN0YXQgPSBmcy5zdGF0U3luYyBkZXN0RmlsZSAgaWYgZnMuZXhpc3RzU3luYyBkZXN0RmlsZVxuICAgICAgdW5sZXNzIGRlc3RTdGF0Py5tdGltZSA+PSBzcmNTdGF0Lm10aW1lXG4gICAgICAgIHNyYyA9IGZzLnJlYWRGaWxlU3luYyBzcmNGaWxlLCBlbmNvZGluZzogJ3V0ZjgnXG4gICAgICAgIHN3aXRjaCBzcmNFeHRcbiAgICAgICAgICB3aGVuICcuamFkZSdcbiAgICAgICAgICAgIGphZGUgPSByZXF1aXJlIG1vZHVsZURpciAnamFkZSdcbiAgICAgICAgICAgIHNhdmVSZXN1bHQgZG8gamFkZS5jb21waWxlIHNyYywgZmlsZW5hbWU6IHNyY0ZpbGUsIHByZXR0eTogdHJ1ZVxuICAgICAgICAgIHdoZW4gJy5zdHlsJ1xuICAgICAgICAgICAgc3R5bHVzID0gcmVxdWlyZSBtb2R1bGVEaXIgJ3N0eWx1cydcbiAgICAgICAgICAgIHN0eWx1cy5yZW5kZXIgc3JjLCB7IGZpbGVuYW1lOiBzcmNGaWxlIH0sIChlcnIsIGNzcykgLT5cbiAgICAgICAgICAgICAgaWYgZXJyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cgJ1tub2RlXSBzdHlsdXMgZXJyb3InLCBzcmNGaWxlLCBlcnJcbiAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNhdmVSZXN1bHQgY3NzXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2F2ZVJlc3VsdCBjb21waWxlQ29mZmVlU2NyaXB0V2l0aE1hcCBzcmMsIHBhdGguYmFzZW5hbWUgc3JjRmlsZVxuICAgIGNhdGNoIGVyclxuICAgICAgY29uc29sZS5sb2cgJ1tub2RlXSBjYW5ub3QgY29tcGlsZScsIHNyY0ZpbGUsIGVyclxuICBlbHNlIGlmIHBpZCA+IDBcbiAgICBpZiAvXFwuKGh0bWx8anMpJC9pLnRlc3Qgc3JjRmlsZVxuICAgICAgbWFpbi5zZW5kIHRydWUgIyByZXF1ZXN0IGEgZnVsbCBwYWdlIHJlbG9hZFxuICAgIGVsc2UgaWYgL1xcLihjc3MpJC9pLnRlc3Qgc3JjRmlsZVxuICAgICAgbWFpbi5zZW5kIGZhbHNlICMgcmVxdWVzdCBhIHN0eWxlc2hlZXQgcmVsb2FkXG4gICAgZWxzZSBpZiAvXFwuKGdvKSQvaS50ZXN0IHNyY0ZpbGVcbiAgICAgIGNvbnNvbGUubG9nIFwiW25vZGVdIGNoYW5nZWRcIiwgc3JjRmlsZVxuICAgICAgcmVjb21waWxlR29GaWxlcygpXG5cbnRyYXZlcnNlRGlycyA9IChkaXIsIGNiKSAtPiAjIHJlY3Vyc2l2ZSBkaXJlY3RvcnkgdHJhdmVyc2FsXG4gIHN0YXRzID0gZnMuc3RhdFN5bmMgZGlyXG4gIGlmIHN0YXRzLmlzRGlyZWN0b3J5KClcbiAgICBjYiBkaXJcbiAgICBmb3IgZiBpbiBmcy5yZWFkZGlyU3luYyBkaXJcbiAgICAgIHRyYXZlcnNlRGlycyBwYXRoLmpvaW4oZGlyLCBmKSwgY2Jcblxud2F0Y2hEaXIgPSAocm9vdCwgY2IpIC0+ICMgcmVjdXJzaXZlIGRpcmVjdG9yeSB3YXRjaGVyXG4gIHRyYXZlcnNlRGlycyByb290LCAoZGlyKSAtPlxuICAgIGZzLndhdGNoIGRpciwgKGV2ZW50LCBmaWxlbmFtZSkgLT5cbiAgICAgIGZpbGUgPSBwYXRoLmpvaW4gZGlyLCBmaWxlbmFtZVxuICAgICAgY2IgZXZlbnQsIGZpbGVcblxuY3JlYXRlV2F0Y2hlciA9IChyb290KSAtPlxuICBpZiBmcy5leGlzdHNTeW5jIHJvb3RcbiAgICBjb25zb2xlLmxvZyBcIiBcIiwgcm9vdFxuICAgIHRyYXZlcnNlRGlycyByb290LCAoZGlyKSAtPlxuICAgICAgZm9yIGYgaW4gZnMucmVhZGRpclN5bmMgZGlyXG4gICAgICAgIGNvbXBpbGVJZk5lZWRlZCBwYXRoLmpvaW4gZGlyLCBmXG4gICAgICBmcy53YXRjaCBkaXIsIChldmVudCwgZmlsZW5hbWUpIC0+XG4gICAgICAgIGZpbGUgPSBwYXRoLmpvaW4gZGlyLCBmaWxlbmFtZVxuICAgICAgICBpZiBmcy5leGlzdHNTeW5jIGZpbGVcbiAgICAgICAgICBjb21waWxlSWZOZWVkZWQgZmlsZVxuICAgICAgICBlbHNlXG4gICAgICAgICAgIyBUT0RPOiBkZWxldGUgY29tcGlsZWQgZmlsZVxuXG5wYXJzZVNldHRpbmdzID0gKGZuKSAtPlxuICBtYXAgPSB7fVxuICBpZiBmcy5leGlzdHNTeW5jIGZuXG4gICAgZm9yIGxpbmUgaW4gZnMucmVhZEZpbGVTeW5jKGZuLCAndXRmOCcpLnNwbGl0ICdcXG4nXG4gICAgICBsaW5lID0gbGluZS50cmltKClcbiAgICAgIGkgPSBsaW5lLmluZGV4T2YoJz0nKVxuICAgICAgaWYgbGluZVswXSAhPSAnIycgYW5kIGkgPiAwXG4gICAgICAgIHggPSBbXVxuICAgICAgICBmb3IgcyBpbiBsaW5lLnNsaWNlKDAsIGkpLnRyaW0oKS5zcGxpdCAnXydcbiAgICAgICAgICB4LnB1c2ggcy5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpICsgcy5zbGljZSgxKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGsgPSB4LmpvaW4gXCJcIlxuICAgICAgICB2ID0gbGluZS5zbGljZShpKzEpLnRyaW0oKVxuICAgICAgICBtYXBba10gPSBKU09OLnBhcnNlIHZcbiAgbWFwXG5cbiMgU3RhcnQgb2YgZGV2bW9kZSBhcHBsaWNhdGlvbiBjb2RlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnNvbGUubG9nICdbbm9kZV0gd2F0Y2hpbmcgZm9yIGZpbGUgY2hhbmdlcyBpbjonXG5cbnRyeSB7c2V0dGluZ3N9ID0gcmVxdWlyZShwYXRoLnJlc29sdmUgX19kaXJuYW1lLCAnLi4vc2V0dXAnKVxuY3JlYXRlV2F0Y2hlciBzZXR0aW5ncz8uYXBwRGlyIG9yICcuL2FwcCdcbmNyZWF0ZVdhdGNoZXIgc2V0dGluZ3M/LmJhc2VEaXIgb3IgJy4vYmFzZSdcbmNyZWF0ZVdhdGNoZXIgc2V0dGluZ3M/LmNvbW1vbkRpciBvciAnLi9jb21tb24nXG5jcmVhdGVXYXRjaGVyIHNldHRpbmdzPy5nYWRnZXRzRGlyIG9yICcuL2dhZGdldHMnXG5cbmlmIGZzLmV4aXN0c1N5bmMgJ25vZGVfbW9kdWxlcydcbiAgcnVuTWFpbigpXG5lbHNlXG4gIHBhY2thZ2VzID0gWydjb2ZmZWUtc2NyaXB0JywgJ2NvbnZlcnQtc291cmNlLW1hcCcsICdqYWRlJywgJ3N0eWx1cyddXG4gIGNvbnNvbGUubG9nICdbbm9kZV0gaW5zdGFsbGluZyBucG0gcGFja2FnZXM6JywgcGFja2FnZXMuam9pbiAnICdcbiAgbnBtc3R1YiA9IGlmIHByb2Nlc3MucGxhdGZvcm0gPT0gXCJ3aW4zMlwiIHRoZW4gXCJucG0uY21kXCIgZWxzZSBcIm5wbVwiXG4gIGV4ZWNGaWxlIG5wbXN0dWIsIFsnaW5zdGFsbCcsIHBhY2thZ2VzLi4uXSwge2Vudjpwcm9jZXNzLmVudn0sIChlcnIsIG8sIGUpIC0+XG4gICAgZmF0YWwgZXJyICBpZiBlcnI/XG4gICAgcnVuTWFpbigpXG4iXX0=
