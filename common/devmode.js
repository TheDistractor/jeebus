(function() {
  var coffee, compileCoffeeScriptWithMap, compileIfNeeded, convert, createWatcher, execFile, fatal, fs, gin, http, installGin, jade, moduleDir, parseSettings, path, ready, reload, runGin, settings, spawn, stylus, timer, traverseDirs, triggerRefresh, watchDir, _ref,
    __slice = [].slice;

  fs = require('fs');

  http = require('http');

  path = require('path');

  _ref = require('child_process'), execFile = _ref.execFile, spawn = _ref.spawn;

  moduleDir = function(s) {
    return path.resolve('node_modules', s);
  };

  coffee = require(moduleDir('coffee-script'));

  convert = require(moduleDir('convert-source-map'));

  jade = require(moduleDir('jade'));

  stylus = require(moduleDir('stylus'));

  fatal = function() {
    var args, s;
    s = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
    console.error('\n[node] fatal error:', s);
    if (args.length) {
      console.error.apply(console, args);
    }
    return process.exit(1);
  };

  runGin = function(done) {
    var p;
    p = spawn('gin', [], {
      stdio: 'pipe'
    });
    p.on('close', function(code) {
      if (code > 0) {
        return fatal('unexpected termination of "gin", code: ' + code);
      }
    });
    p.stdout.on('data', function(data) {
      var s;
      s = data.toString();
      if (data.length > 0) {
        process.stdout.write(s);
      }
      if (/listening on port/.test(s)) {
        return ready();
      }
    });
    p.stderr.on('data', function(data) {
      var s;
      s = data.toString();
      if (!/execvp\(\)/.test(s)) {
        return process.stderr.write(s);
      }
    });
    return p;
  };

  installGin = function() {
    console.log('"gin" tool not found, installing...');
    return execFile('go', ['get', 'github.com/codegangsta/gin'], function(err, sout, serr) {
      var gin;
      if (err) {
        if (err.code === 'ENOENT') {
          fatal('"go" not found - please install it first, see http://golang.org/');
        }
        fatal('install of "gin" failed', serr);
      }
      gin = runGin();
      return gin.on('error', function(err) {
        return fatal('still cannot launch "gin" - is $GOPATH/bin in your $PATH?');
      });
    });
  };

  compileCoffeeScriptWithMap = function(sourceCode, filename) {
    var comment, compiled;
    compiled = coffee.compile(sourceCode, {
      filename: filename,
      sourceMap: true,
      inline: true,
      literate: path.extname(filename) !== '.coffee'
    });
    comment = convert.fromJSON(compiled.v3SourceMap).setProperty('sources', [filename]).toComment();
    return "" + compiled.js + "\n" + comment + "\n";
  };

  compileIfNeeded = function(srcFile) {
    var destExt, destFile, destStat, err, saveResult, src, srcExt, srcStat, t;
    if (/\.(coffee|coffee\.md|litcoffee|jade|styl)$/i.test(srcFile)) {
      srcExt = path.extname(srcFile);
      destExt = (function() {
        switch (srcExt) {
          case '.jade':
            return '.html';
          case '.styl':
            return '.css';
          default:
            return '.js';
        }
      })();
      destFile = srcFile.slice(0, -srcExt.length) + destExt;
      t = Date.now();
      saveResult = function(data) {
        var ms, n;
        n = data.length;
        ms = Date.now() - t;
        console.log("[node] compile " + srcFile + " -> " + destExt + " " + n + "b " + ms + " ms");
        return fs.writeFileSync(destFile, data);
      };
      try {
        srcStat = fs.statSync(srcFile);
        if (fs.existsSync(destFile)) {
          destStat = fs.statSync(destFile);
        }
        if (!((destStat != null ? destStat.mtime : void 0) >= srcStat.mtime)) {
          src = fs.readFileSync(srcFile, {
            encoding: 'utf8'
          });
          switch (srcExt) {
            case '.jade':
              return saveResult(jade.compile(src, {
                filename: srcFile,
                pretty: true
              })());
            case '.styl':
              return stylus.render(src, {
                filename: srcFile
              }, function(err, css) {
                if (err) {
                  return console.log('[node] stylus error', srcFile, err);
                } else {
                  return saveResult(css);
                }
              });
            default:
              return saveResult(compileCoffeeScriptWithMap(src, path.basename(srcFile)));
          }
        }
      } catch (_error) {
        err = _error;
        return console.log('[node] cannot compile', srcFile, err);
      }
    } else if (/\.(html|js)$/i.test(srcFile)) {
      return triggerRefresh(true);
    } else if (/\.(css)$/i.test(srcFile)) {
      return triggerRefresh(false);
    }
  };

  traverseDirs = function(dir, cb) {
    var f, stats, _i, _len, _ref1, _results;
    stats = fs.statSync(dir);
    if (stats.isDirectory()) {
      cb(dir);
      _ref1 = fs.readdirSync(dir);
      _results = [];
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        f = _ref1[_i];
        _results.push(traverseDirs(path.join(dir, f), cb));
      }
      return _results;
    }
  };

  watchDir = function(root, cb) {
    return traverseDirs(root, function(dir) {
      return fs.watch(dir, function(event, filename) {
        var file;
        file = path.join(dir, filename);
        return cb(event, file);
      });
    });
  };

  createWatcher = function(root) {
    console.log(" ", root);
    traverseDirs(root, function(dir) {
      var f, _i, _len, _ref1;
      _ref1 = fs.readdirSync(dir);
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        f = _ref1[_i];
        compileIfNeeded(path.join(dir, f));
      }
      return fs.watch(dir, function(event, filename) {
        var file;
        file = path.join(dir, filename);
        if (fs.existsSync(file)) {
          return compileIfNeeded(file);
        } else {

        }
      });
    });
    return root;
  };

  ready = function() {
    console.log('[node] watching for file changes in:');
    createWatcher(settings.AppDir || './app');
    createWatcher(settings.BaseDir || './base');
    return createWatcher(settings.CommonDir || './common');
  };

  parseSettings = function(fn) {
    var i, k, line, map, s, v, x, _i, _j, _len, _len1, _ref1, _ref2;
    map = {};
    if (fs.existsSync(fn)) {
      _ref1 = fs.readFileSync(fn, 'utf8').split('\n');
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        line = _ref1[_i];
        line = line.trim();
        i = line.indexOf('=');
        if (line[0] !== '#' && i > 0) {
          x = [];
          _ref2 = line.slice(0, i).trim().split('_');
          for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
            s = _ref2[_j];
            x.push(s.slice(0, 1).toUpperCase() + s.slice(1).toLowerCase());
          }
          k = x.join("");
          v = line.slice(i + 1).trim();
          map[k] = JSON.parse(v);
        }
      }
    }
    return map;
  };

  reload = void 0;

  timer = void 0;

  triggerRefresh = function(refresh) {
    reload || (reload = refresh);
    clearTimeout(timer);
    return timer = setTimeout(function() {
      var port;
      port = settings.Port || 3000;
      http.get("http://localhost:" + port + "/reload?" + reload).on('error', function(e) {
        return console.log("Got error: ", e.stack);
      });
      return reload = void 0;
    }, 100);
  };

  settings = parseSettings('settings.txt');

  gin = runGin();

  gin.on('error', function(err) {
    if (err.code !== 'ENOENT') {
      fatal('cannot launch "gin"', err);
    }
    return installGin();
  });

  gin.on('exit', function() {
    console.error('[node] gin exited');
    return process.exit(1);
  });

  process.on('uncaughtException', function(err) {
    console.error('[node] exception:', err.stack);
    return gin.kill();
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZGV2bW9kZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7QUFBQSxNQUFBLGtRQUFBO0lBQUEsa0JBQUE7O0FBQUEsRUFBQSxFQUFBLEdBQUssT0FBQSxDQUFRLElBQVIsQ0FBTCxDQUFBOztBQUFBLEVBQ0EsSUFBQSxHQUFPLE9BQUEsQ0FBUSxNQUFSLENBRFAsQ0FBQTs7QUFBQSxFQUVBLElBQUEsR0FBTyxPQUFBLENBQVEsTUFBUixDQUZQLENBQUE7O0FBQUEsRUFHQSxPQUFtQixPQUFBLENBQVEsZUFBUixDQUFuQixFQUFDLGdCQUFBLFFBQUQsRUFBVSxhQUFBLEtBSFYsQ0FBQTs7QUFBQSxFQU1BLFNBQUEsR0FBWSxTQUFDLENBQUQsR0FBQTtXQUFPLElBQUksQ0FBQyxPQUFMLENBQWEsY0FBYixFQUE2QixDQUE3QixFQUFQO0VBQUEsQ0FOWixDQUFBOztBQUFBLEVBUUEsTUFBQSxHQUFTLE9BQUEsQ0FBUSxTQUFBLENBQVUsZUFBVixDQUFSLENBUlQsQ0FBQTs7QUFBQSxFQVNBLE9BQUEsR0FBVSxPQUFBLENBQVEsU0FBQSxDQUFVLG9CQUFWLENBQVIsQ0FUVixDQUFBOztBQUFBLEVBVUEsSUFBQSxHQUFPLE9BQUEsQ0FBUSxTQUFBLENBQVUsTUFBVixDQUFSLENBVlAsQ0FBQTs7QUFBQSxFQVdBLE1BQUEsR0FBUyxPQUFBLENBQVEsU0FBQSxDQUFVLFFBQVYsQ0FBUixDQVhULENBQUE7O0FBQUEsRUFhQSxLQUFBLEdBQVEsU0FBQSxHQUFBO0FBQ04sUUFBQSxPQUFBO0FBQUEsSUFETyxrQkFBRyw4REFDVixDQUFBO0FBQUEsSUFBQSxPQUFPLENBQUMsS0FBUixDQUFjLHVCQUFkLEVBQXVDLENBQXZDLENBQUEsQ0FBQTtBQUNBLElBQUEsSUFBMEIsSUFBSSxDQUFDLE1BQS9CO0FBQUEsTUFBQSxPQUFPLENBQUMsS0FBUixnQkFBYyxJQUFkLENBQUEsQ0FBQTtLQURBO1dBRUEsT0FB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Q0FBQSxDQUFBO1dBQ0EsR0FBRyxDQUFDLElBQUosQ0FBQSxFQUY4QjtFQUFBLENBQWhDLENBcExBLENBQUE7QUFBQSIsInNvdXJjZXNDb250ZW50IjpbIiMgSmVlQnVzIGRldmVsb3BtZW50IG1vZGU6IGxhdW5jaGVzIFwiZ2luXCIgYW5kIGNvbXBpbGVzIENTL0phZGUvU3R5bHVzIGFzIG5lZWRlZFxuIyAtamN3LCAyMDE0LTAyLTE5XG5cbmZzID0gcmVxdWlyZSAnZnMnXG5odHRwID0gcmVxdWlyZSAnaHR0cCdcbnBhdGggPSByZXF1aXJlICdwYXRoJ1xue2V4ZWNGaWxlLHNwYXdufSA9IHJlcXVpcmUgJ2NoaWxkX3Byb2Nlc3MnXG5cbiMgbG9vayBmb3IgbW9kdWxlcyByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBkaXJlY3RvcnksIG5vdCByZWxhdGl2ZSB0byB0aGlzIGZpbGVcbm1vZHVsZURpciA9IChzKSAtPiBwYXRoLnJlc29sdmUgJ25vZGVfbW9kdWxlcycsIHNcblxuY29mZmVlID0gcmVxdWlyZSBtb2R1bGVEaXIgJ2NvZmZlZS1zY3JpcHQnXG5jb252ZXJ0ID0gcmVxdWlyZSBtb2R1bGVEaXIgJ2NvbnZlcnQtc291cmNlLW1hcCdcbmphZGUgPSByZXF1aXJlIG1vZHVsZURpciAnamFkZSdcbnN0eWx1cyA9IHJlcXVpcmUgbW9kdWxlRGlyICdzdHlsdXMnXG5cbmZhdGFsID0gKHMsIGFyZ3MuLi4pIC0+XG4gIGNvbnNvbGUuZXJyb3IgJ1xcbltub2RlXSBmYXRhbCBlcnJvcjonLCBzXG4gIGNvbnNvbGUuZXJyb3IgYXJncy4uLiAgaWYgYXJncy5sZW5ndGhcbiAgcHJvY2Vzcy5leGl0IDFcblxucnVuR2luID0gKGRvbmUpIC0+XG4gIHAgPSBzcGF3biAnZ2luJywgW10sIHN0ZGlvOiAncGlwZSdcbiAgcC5vbiAnY2xvc2UnLCAoY29kZSkgLT5cbiAgICBmYXRhbCAndW5leHBlY3RlZCB0ZXJtaW5hdGlvbiBvZiBcImdpblwiLCBjb2RlOiAnICsgY29kZSAgaWYgY29kZSA+IDBcbiAgcC5zdGRvdXQub24gJ2RhdGEnLCAoZGF0YSkgLT5cbiAgICBzID0gZGF0YS50b1N0cmluZygpXG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUgcyBpZiBkYXRhLmxlbmd0aCA+IDBcbiAgICByZWFkeSgpICBpZiAvbGlzdGVuaW5nIG9uIHBvcnQvLnRlc3Qgc1xuICBwLnN0ZGVyci5vbiAnZGF0YScsIChkYXRhKSAtPlxuICAgIHMgPSBkYXRhLnRvU3RyaW5nKClcbiAgICBwcm9jZXNzLnN0ZGVyci53cml0ZSBzICB1bmxlc3MgL2V4ZWN2cFxcKFxcKS8udGVzdCBzXG4gIHBcbiAgXG5pbnN0YWxsR2luID0gLT5cbiAgY29uc29sZS5sb2cgJ1wiZ2luXCIgdG9vbCBub3QgZm91bmQsIGluc3RhbGxpbmcuLi4nXG4gIFxuICAjIGFzc3VtZSBcImdvXCIgaGFzIGJlZW4gaW5zdGFsbGVkIHByb3Blcmx5XG4gIGV4ZWNGaWxlICdnbycsIFsnZ2V0JywgJ2dpdGh1Yi5jb20vY29kZWdhbmdzdGEvZ2luJ10sIChlcnIsIHNvdXQsIHNlcnIpIC0+XG4gICAgXG4gICAgIyBpbnN0YWxsaW5nIFwiZ29cIiBjYW5ub3QgYmUgZG9uZSBhdXRvbWF0aWNhbGx5XG4gICAgaWYgZXJyXG4gICAgICBpZiBlcnIuY29kZSBpcyAnRU5PRU5UJ1xuICAgICAgICBmYXRhbCAnXCJnb1wiIG5vdCBmb3VuZCAtIHBsZWFzZSBpbnN0YWxsIGl0IGZpcnN0LCBzZWUgaHR0cDovL2dvbGFuZy5vcmcvJ1xuICAgICAgZmF0YWwgJ2luc3RhbGwgb2YgXCJnaW5cIiBmYWlsZWQnLCBzZXJyXG5cbiAgICAjIG9rLCB0cnkgcnVubmluZyBcImdpblwiIGFnYWluXG4gICAgZ2luID0gcnVuR2luKClcbiAgICBnaW4ub24gJ2Vycm9yJywgKGVycikgLT5cbiAgICAgIGZhdGFsICdzdGlsbCBjYW5ub3QgbGF1bmNoIFwiZ2luXCIgLSBpcyAkR09QQVRIL2JpbiBpbiB5b3VyICRQQVRIPydcbiAgXG5jb21waWxlQ29mZmVlU2NyaXB0V2l0aE1hcCA9IChzb3VyY2VDb2RlLCBmaWxlbmFtZSkgLT5cbiAgY29tcGlsZWQgPSBjb2ZmZWUuY29tcGlsZSBzb3VyY2VDb2RlLFxuICAgIGZpbGVuYW1lOiBmaWxlbmFtZVxuICAgIHNvdXJjZU1hcDogdHJ1ZVxuICAgIGlubGluZTogdHJ1ZVxuICAgIGxpdGVyYXRlOiBwYXRoLmV4dG5hbWUoZmlsZW5hbWUpIGlzbnQgJy5jb2ZmZWUnXG4gIGNvbW1lbnQgPSBjb252ZXJ0XG4gICAgLmZyb21KU09OKGNvbXBpbGVkLnYzU291cmNlTWFwKVxuICAgIC5zZXRQcm9wZXJ0eSgnc291cmNlcycsIFtmaWxlbmFtZV0pIFxuICAgIC50b0NvbW1lbnQoKVxuICBcIiN7Y29tcGlsZWQuanN9XFxuI3tjb21tZW50fVxcblwiXG4gIFxuY29tcGlsZUlmTmVlZGVkID0gKHNyY0ZpbGUpIC0+XG4gIGlmIC9cXC4oY29mZmVlfGNvZmZlZVxcLm1kfGxpdGNvZmZlZXxqYWRlfHN0eWwpJC9pLnRlc3Qgc3JjRmlsZVxuICAgIHNyY0V4dCA9IHBhdGguZXh0bmFtZSBzcmNGaWxlXG4gICAgZGVzdEV4dCA9IHN3aXRjaCBzcmNFeHRcbiAgICAgIHdoZW4gJy5qYWRlJyB0aGVuICcuaHRtbCdcbiAgICAgIHdoZW4gJy5zdHlsJyB0aGVuICcuY3NzJ1xuICAgICAgZWxzZSAgICAgICAgICAgICAgJy5qcydcbiAgICBkZXN0RmlsZSA9IHNyY0ZpbGUuc2xpY2UoMCwgLSBzcmNFeHQubGVuZ3RoKSArIGRlc3RFeHRcblxuICAgIHQgPSBEYXRlLm5vdygpXG4gICAgc2F2ZVJlc3VsdCA9IChkYXRhKSAtPlxuICAgICAgbiA9IGRhdGEubGVuZ3RoXG4gICAgICBtcyA9IERhdGUubm93KCkgLSB0XG4gICAgICBjb25zb2xlLmxvZyBcIltub2RlXSBjb21waWxlICN7c3JjRmlsZX0gLT4gI3tkZXN0RXh0fSAje259YiAje21zfSBtc1wiXG4gICAgICBmcy53cml0ZUZpbGVTeW5jIGRlc3RGaWxlLCBkYXRhXG5cbiAgICB0cnlcbiAgICAgIHNyY1N0YXQgPSBmcy5zdGF0U3luYyBzcmNGaWxlXG4gICAgICBkZXN0U3RhdCA9IGZzLnN0YXRTeW5jIGRlc3RGaWxlICBpZiBmcy5leGlzdHNTeW5jIGRlc3RGaWxlXG4gICAgICB1bmxlc3MgZGVzdFN0YXQ/Lm10aW1lID49IHNyY1N0YXQubXRpbWVcbiAgICAgICAgc3JjID0gZnMucmVhZEZpbGVTeW5jIHNyY0ZpbGUsIGVuY29kaW5nOiAndXRmOCdcbiAgICAgICAgc3dpdGNoIHNyY0V4dFxuICAgICAgICAgIHdoZW4gJy5qYWRlJ1xuICAgICAgICAgICAgc2F2ZVJlc3VsdCBkbyBqYWRlLmNvbXBpbGUgc3JjLCBmaWxlbmFtZTogc3JjRmlsZSwgcHJldHR5OiB0cnVlXG4gICAgICAgICAgd2hlbiAnLnN0eWwnXG4gICAgICAgICAgICBzdHlsdXMucmVuZGVyIHNyYywgeyBmaWxlbmFtZTogc3JjRmlsZSB9LCAoZXJyLCBjc3MpIC0+XG4gICAgICAgICAgICAgIGlmIGVyclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nICdbbm9kZV0gc3R5bHVzIGVycm9yJywgc3JjRmlsZSwgZXJyXG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBzYXZlUmVzdWx0IGNzc1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHNhdmVSZXN1bHQgY29tcGlsZUNvZmZlZVNjcmlwdFdpdGhNYXAgc3JjLCBwYXRoLmJhc2VuYW1lIHNyY0ZpbGVcbiAgICBjYXRjaCBlcnJcbiAgICAgIGNvbnNvbGUubG9nICdbbm9kZV0gY2Fubm90IGNvbXBpbGUnLCBzcmNGaWxlLCBlcnJcbiAgZWxzZSBpZiAvXFwuKGh0bWx8anMpJC9pLnRlc3Qgc3JjRmlsZVxuICAgIHRyaWdnZXJSZWZyZXNoIHRydWUgIyByZXF1ZXN0IGEgZnVsbCBwYWdlIHJlbG9hZFxuICBlbHNlIGlmIC9cXC4oY3NzKSQvaS50ZXN0IHNyY0ZpbGVcbiAgICB0cmlnZ2VyUmVmcmVzaCBmYWxzZSAjIHJlcXVlc3QgYSBzdHlsZXNoZWV0IHJlbG9hZFxuXG50cmF2ZXJzZURpcnMgPSAoZGlyLCBjYikgLT4gIyByZWN1cnNpdmUgZGlyZWN0b3J5IHRyYXZlcnNhbFxuICBzdGF0cyA9IGZzLnN0YXRTeW5jIGRpclxuICBpZiBzdGF0cy5pc0RpcmVjdG9yeSgpXG4gICAgY2IgZGlyXG4gICAgZm9yIGYgaW4gZnMucmVhZGRpclN5bmMgZGlyXG4gICAgICB0cmF2ZXJzZURpcnMgcGF0aC5qb2luKGRpciwgZiksIGNiXG5cbndhdGNoRGlyID0gKHJvb3QsIGNiKSAtPiAjIHJlY3Vyc2l2ZSBkaXJlY3Rvcnkgd2F0Y2hlclxuICB0cmF2ZXJzZURpcnMgcm9vdCwgKGRpcikgLT5cbiAgICBmcy53YXRjaCBkaXIsIChldmVudCwgZmlsZW5hbWUpIC0+XG4gICAgICBmaWxlID0gcGF0aC5qb2luIGRpciwgZmlsZW5hbWVcbiAgICAgIGNiIGV2ZW50LCBmaWxlXG5cbmNyZWF0ZVdhdGNoZXIgPSAocm9vdCkgLT5cbiAgY29uc29sZS5sb2cgXCIgXCIsIHJvb3RcbiAgdHJhdmVyc2VEaXJzIHJvb3QsIChkaXIpIC0+XG4gICAgIyBjb25zb2xlLmxvZyAnZDonLCBkaXJcbiAgICBmb3IgZiBpbiBmcy5yZWFkZGlyU3luYyBkaXJcbiAgICAgIGNvbXBpbGVJZk5lZWRlZCBwYXRoLmpvaW4gZGlyLCBmXG4gICAgZnMud2F0Y2ggZGlyLCAoZXZlbnQsIGZpbGVuYW1lKSAtPlxuICAgICAgZmlsZSA9IHBhdGguam9pbiBkaXIsIGZpbGVuYW1lXG4gICAgICBpZiBmcy5leGlzdHNTeW5jIGZpbGVcbiAgICAgICAgY29tcGlsZUlmTmVlZGVkIGZpbGVcbiAgICAgIGVsc2VcbiAgICAgICAgIyBUT0RPOiBkZWxldGUgY29tcGlsZWQgZmlsZVxuICByb290XG5cbnJlYWR5ID0gLT4gIyBjYWxsZWQgb25jZSBnaW4gcmVwb3J0cyB0aGF0IGl0IGlzIGFjdHVhbGx5IGxpc3RlbmluZyBvbiBhIHBvcnRcbiAgY29uc29sZS5sb2cgJ1tub2RlXSB3YXRjaGluZyBmb3IgZmlsZSBjaGFuZ2VzIGluOidcbiAgY3JlYXRlV2F0Y2hlciBzZXR0aW5ncy5BcHBEaXIgb3IgJy4vYXBwJ1xuICBjcmVhdGVXYXRjaGVyIHNldHRpbmdzLkJhc2VEaXIgb3IgJy4vYmFzZSdcbiAgY3JlYXRlV2F0Y2hlciBzZXR0aW5ncy5Db21tb25EaXIgb3IgJy4vY29tbW9uJ1xuXG5wYXJzZVNldHRpbmdzID0gKGZuKSAtPlxuICBtYXAgPSB7fVxuICBpZiBmcy5leGlzdHNTeW5jIGZuXG4gICAgZm9yIGxpbmUgaW4gZnMucmVhZEZpbGVTeW5jKGZuLCAndXRmOCcpLnNwbGl0ICdcXG4nXG4gICAgICBsaW5lID0gbGluZS50cmltKClcbiAgICAgIGkgPSBsaW5lLmluZGV4T2YoJz0nKVxuICAgICAgaWYgbGluZVswXSAhPSAnIycgYW5kIGkgPiAwXG4gICAgICAgIHggPSBbXVxuICAgICAgICBmb3IgcyBpbiBsaW5lLnNsaWNlKDAsIGkpLnRyaW0oKS5zcGxpdCAnXydcbiAgICAgICAgICB4LnB1c2ggcy5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpICsgcy5zbGljZSgxKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGsgPSB4LmpvaW4gXCJcIlxuICAgICAgICB2ID0gbGluZS5zbGljZShpKzEpLnRyaW0oKVxuICAgICAgICBtYXBba10gPSBKU09OLnBhcnNlIHZcbiAgbWFwXG5cbiMgZGVib3VuY2UgdGhlIHJlZnJlc2ggdHJpZ2dlcnMsIGluIGNhc2UgbG90cyBvZiB0aGVtIGFyZSBnZW5lcmF0ZWQgYXQgb25jZVxucmVsb2FkID0gdW5kZWZpbmVkXG50aW1lciA9IHVuZGVmaW5lZFxuXG50cmlnZ2VyUmVmcmVzaCA9IChyZWZyZXNoKSAtPlxuICByZWxvYWQgb3I9IHJlZnJlc2hcbiAgY2xlYXJUaW1lb3V0IHRpbWVyXG4gIHRpbWVyID0gc2V0VGltZW91dCAtPlxuICAgIHBvcnQgPSBzZXR0aW5ncy5Qb3J0IG9yIDMwMDBcbiAgICAjIHNlbmQgYSBcIkdFVCAvcmVsb2FkPy4uLlwiIHRvIGJyb2FkY2FzdCBpdCBvbiBhbGwgY29ubmVjdGVkIHdlYnNvY2tldHNcbiAgICBodHRwLmdldChcImh0dHA6Ly9sb2NhbGhvc3Q6I3twb3J0fS9yZWxvYWQ/I3tyZWxvYWR9XCIpLm9uICdlcnJvcicsIChlKSAtPlxuICAgICAgY29uc29sZS5sb2cgXCJHb3QgZXJyb3I6IFwiLCBlLnN0YWNrXG4gICAgcmVsb2FkID0gdW5kZWZpbmVkXG4gICwgMTAwXG5cbiMgU3RhcnQgb2YgZGV2bW9kZSBhcHBsaWNhdGlvbiBjb2RlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnNldHRpbmdzID0gcGFyc2VTZXR0aW5ncyAnc2V0dGluZ3MudHh0J1xuXG4jIGFzc3VtZSBcImdvXCIgYW5kIFwiZ2luXCIgaGF2ZSBiZWVuIGluc3RhbGxlZCBwcm9wZXJseVxuZ2luID0gcnVuR2luKClcblxuIyBlbHNlLCB0cnkgdG8gaW5zdGFsbCBcImdpblwiIGZpcnN0XG5naW4ub24gJ2Vycm9yJywgKGVycikgLT5cbiAgZmF0YWwgJ2Nhbm5vdCBsYXVuY2ggXCJnaW5cIicsIGVyciAgdW5sZXNzIGVyci5jb2RlIGlzICdFTk9FTlQnXG4gIGluc3RhbGxHaW4oKVxuXG4jIGlmIGdpbiBnb2VzIGRvd24sIHRoZW4gc28gc2hvdWxkIHRoaXMgbm9kZSBwcm9jZXNzXG5naW4ub24gJ2V4aXQnLCAtPlxuICBjb25zb2xlLmVycm9yICdbbm9kZV0gZ2luIGV4aXRlZCdcbiAgcHJvY2VzcyAuZXhpdCAxXG5cbiMgaWYgdGhpcyBub2RlIHByb2Nlc3MgZ29lcyBkb3duLCB0aGVuIHNvIHNob3VsZCBnaW4gYW5kIHRoZSBnbyBhcHBsaWNhdGlvblxucHJvY2Vzcy5vbiAndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyKSAtPlxuICBjb25zb2xlLmVycm9yICdbbm9kZV0gZXhjZXB0aW9uOicsIGVyci5zdGFja1xuICBnaW4ua2lsbCgpXG4iXX0=
